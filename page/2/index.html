<!DOCTYPE html>












  


<html class="theme-next pisces use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
































<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=6.6.0" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.6.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.6.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.6.0">


  <link rel="mask-icon" href="/images/logo.svg?v=6.6.0" color="#222">









<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '6.6.0',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta property="og:type" content="website">
<meta property="og:title" content="四川小旋风">
<meta property="og:url" content="http://yoursite.com/page/2/index.html">
<meta property="og:site_name" content="四川小旋风">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="四川小旋风">






  <link rel="canonical" href="http://yoursite.com/page/2/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>四川小旋风</title>
  












  <noscript>
  <style>
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion .logo-line-before i { left: initial; }
    .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>
    <a href="https://your-url" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewbox="0 0 250 250" style="fill:#fff; color:#151513; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"/><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"/><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"/></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">四川小旋风</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-首页">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>首页</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-标签">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>标签</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-分类">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>分类</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-归档">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>归档</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-日程表">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>日程表</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-关于">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>关于</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>归档</a>

  </li>

      
      
    </ul>
  

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/21/day18-作业/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="酱油壹号">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/tusun.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="四川小旋风">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2018/12/21/day18-作业/" class="post-title-link" itemprop="http://yoursite.com/page/2/index.html">未命名</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2018-12-21 09:34:21 / 修改时间：09:31:35" itemprop="dateCreated datePublished" datetime="2018-12-21T09:34:21+08:00">2018-12-21</time>
            

            
              

              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>作业：</p>
<ol>
<li>客户端和服务器聊天，可以一直聊天，直到一方发送’拜拜’。然后就可以和下一个人一直聊<br>服务器：<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"></span><br><span class="line">server = socket.socket()</span><br><span class="line">server.bind((<span class="string">'10.7.187.55'</span>, <span class="number">8888</span>))</span><br><span class="line"></span><br><span class="line">server.listen(<span class="number">100</span>)</span><br><span class="line">print(<span class="string">'开始监听。'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="number">1</span>:</span><br><span class="line">    conversation, address = server.accept()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> <span class="number">1</span>:</span><br><span class="line">        get_data = conversation.recv(<span class="number">1024</span>)</span><br><span class="line">        print(<span class="string">'客户端：'</span>, get_data.decode(<span class="string">'utf-8'</span>))</span><br><span class="line">        <span class="keyword">if</span> get_data.decode(<span class="string">'utf-8'</span>) == <span class="string">'拜拜'</span>:</span><br><span class="line">            print(<span class="string">'客户端已退出连接，等待下次客户端请求：'</span>, address)</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">        send_data = input(<span class="string">'服务器：'</span>)</span><br><span class="line">        conversation.send(send_data.encode(<span class="string">'utf-8'</span>))</span><br><span class="line">        <span class="keyword">if</span> send_data == <span class="string">'拜拜'</span>:</span><br><span class="line">            print(<span class="string">'已断开本次连接，等待下次客户端请求：'</span>)</span><br><span class="line">            <span class="keyword">break</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>客户端：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"></span><br><span class="line">client = socket.socket()</span><br><span class="line"></span><br><span class="line">client.connect((<span class="string">'10.7.187.55'</span>, <span class="number">8888</span>))</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="number">1</span>:</span><br><span class="line">    send_data = input(<span class="string">'客户端：'</span>)</span><br><span class="line">    client.send(send_data.encode(<span class="string">'utf-8'</span>))</span><br><span class="line">    <span class="keyword">if</span> send_data == <span class="string">'拜拜'</span>:</span><br><span class="line">        print(<span class="string">'已断开本次连接。'</span>)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">    get_data = client.recv(<span class="number">1024</span>)</span><br><span class="line">    print(<span class="string">'服务器：'</span>, get_data.decode(<span class="string">'utf-8'</span>))</span><br><span class="line">    <span class="keyword">if</span> get_data.decode(<span class="string">'utf-8'</span>) == <span class="string">'拜拜'</span>:</span><br><span class="line">        print(<span class="string">'服务器已断开本次连接。'</span>)</span><br><span class="line">        <span class="keyword">break</span></span><br></pre></td></tr></table></figure></p>
<p>2.客户端给服务器发送请求，请求成功后，客户端给服务发送‘1’，服务器就给客户端发送一张图片；客户端给服务发送‘2’，服务器就给客户端返回一个json文件中的内容;客户端给服务发送‘3’, 服务器返回’拜拜’,然后断开连接<br>服务器：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line">server = socket.socket()</span><br><span class="line">server.bind((<span class="string">'10.7.187.55'</span>, <span class="number">8888</span>))</span><br><span class="line"></span><br><span class="line">server.listen(<span class="number">200</span>)</span><br><span class="line">print(<span class="string">'开始监听：'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="number">1</span>:</span><br><span class="line">    conversation, adress = server.accept()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> <span class="number">1</span>:</span><br><span class="line">        get_data = conversation.recv(<span class="number">1024</span>)</span><br><span class="line">        print(<span class="string">'客户端：'</span>, get_data.decode(<span class="string">'utf-8'</span>))</span><br><span class="line">        <span class="keyword">if</span> get_data.decode(<span class="string">'utf-8'</span>) == <span class="string">'3'</span>:</span><br><span class="line">            send_data = <span class="string">'拜拜！'</span></span><br><span class="line">            conversation.send(send_data.encode(<span class="string">'utf-8'</span>))</span><br><span class="line">            print(<span class="string">'当前客户端已断开连接。'</span>, adress)</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">elif</span> get_data.decode(<span class="string">'utf-8'</span>) == <span class="string">'1'</span>:</span><br><span class="line">            <span class="keyword">with</span> open(<span class="string">'王也.jpg'</span>, <span class="string">'rb'</span>) <span class="keyword">as</span> f:</span><br><span class="line">                send_data = f.read()</span><br><span class="line">                conversation.send(send_data)</span><br><span class="line">            print(<span class="string">'已发送图片。'</span>)</span><br><span class="line">        <span class="keyword">elif</span> get_data.decode(<span class="string">'utf-8'</span>) == <span class="string">'2'</span>:</span><br><span class="line">            <span class="keyword">with</span> open(<span class="string">'files/测试文件.json'</span>, <span class="string">'r'</span>, encoding=<span class="string">'utf-8'</span>) <span class="keyword">as</span> f:</span><br><span class="line">                content = json.load(f)</span><br><span class="line">                conversation.send(str(content).encode(<span class="string">'utf-8'</span>))</span><br><span class="line">                print(<span class="string">'已发送文件。'</span>)</span><br></pre></td></tr></table></figure></p>
<p>客户端：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"></span><br><span class="line">client = socket.socket()</span><br><span class="line">client.connect((<span class="string">'10.7.187.55'</span>, <span class="number">8888</span>))</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="number">1</span>:</span><br><span class="line">    send_data = input(<span class="string">'客户端：'</span>)</span><br><span class="line">    client.send(send_data.encode(<span class="string">'utf-8'</span>))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> send_data == <span class="string">'3'</span>:</span><br><span class="line">        print(<span class="string">'已退出连接。'</span>)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">elif</span> send_data == <span class="string">'1'</span>:</span><br><span class="line">        content = bytes()</span><br><span class="line">        <span class="keyword">while</span> <span class="number">1</span>:</span><br><span class="line">            get_data = client.recv(<span class="number">1024</span>)</span><br><span class="line">            content += get_data</span><br><span class="line">            print(len(get_data))</span><br><span class="line">            <span class="comment"># if len(get_data) == 39:</span></span><br><span class="line">            <span class="keyword">if</span> len(get_data) &lt; <span class="number">1024</span>:</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">with</span> open(<span class="string">'接收文件/图片1.jpg'</span>, <span class="string">'bw'</span>) <span class="keyword">as</span> f:</span><br><span class="line">            f.write(content)</span><br><span class="line">            print(<span class="string">'接收图片成功。'</span>)</span><br><span class="line">    <span class="keyword">elif</span> send_data == <span class="string">'2'</span>:</span><br><span class="line">        get_data = client.recv(<span class="number">1024</span>)</span><br><span class="line">        print(<span class="string">'服务器：'</span>, get_data.decode())</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>

    

    
    
    
    <div>
    
    </div>
    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/21/day18-网络编程/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="酱油壹号">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/tusun.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="四川小旋风">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2018/12/21/day18-网络编程/" class="post-title-link" itemprop="http://yoursite.com/page/2/index.html">未命名</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2018-12-21 09:34:21 / 修改时间：09:31:35" itemprop="dateCreated datePublished" datetime="2018-12-21T09:34:21+08:00">2018-12-21</time>
            

            
              

              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>#18.1 socket编程</p>
<blockquote>
<p>socket又叫套接字，指的就是实现通信过程的两个端。<br>等待请求的叫服务端套接字，发送请求的叫客户端</p>
</blockquote>
<blockquote>
<p>python中提供了socket模块来支持socket编程。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> socket</span><br></pre></td></tr></table></figure></p>
</blockquote>
<blockquote>
<p>1.服务器套接字</p>
<blockquote>
<p>1.创建套接字对象<br>socket(family,type)<br>family - 设置ip类型  AF_INET(默认值) - ipv4  AF_INET6 - ipv6<br>type - 设置传输类型 SOCK_STREAM - tcp<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># server = socket.socket(socket.AF_INET, socket.SOCK_STREAM)</span></span><br><span class="line"><span class="comment"># 创建一个基于ipv4和TCP的套接字对象</span></span><br><span class="line">server = socket.socket()   <span class="comment"># 都是默认值</span></span><br></pre></td></tr></table></figure></p>
</blockquote>
</blockquote>
<blockquote>
<blockquote>
<p>2.绑定ip地址和端口<br>bind((ip地址,端口号))<br>ip地址 - 服务器对应的计算机的ip地址，字符串<br>端口号 - 用来区分计算机上不同的服务(应用)；是一个数字，范围是0-65535，但是其中1024以下的是著名端口，用来表示一些特殊的应用或服务，一般不要用。<br>同一时间一个端口只能对应一个服务<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">server.bind((<span class="string">'10.7.187.55'</span>, <span class="number">8081</span>))</span><br></pre></td></tr></table></figure></p>
</blockquote>
</blockquote>
<blockquote>
<blockquote>
<p>3.开始监听请求<br>listen(最大监听数) - 用于设置服务器一次可以处理多少个请求<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">server.listen(<span class="number">100</span>)</span><br><span class="line">print(<span class="string">'开始监听'</span>)</span><br></pre></td></tr></table></figure></p>
</blockquote>
</blockquote>
<blockquote>
<blockquote>
<p>4.让服务器一直处于启动状态<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> <span class="keyword">True</span>:</span><br></pre></td></tr></table></figure></p>
</blockquote>
</blockquote>
<blockquote>
<blockquote>
<p>5.接收客户端发送的请求，返回请求地址和会话对象：注意，这段代码会阻塞线程（程序运行到这会停下来，直到有客户端给当前服务器发送请求为止。）<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># server.accept()</span></span><br><span class="line">conversation, addr = server.accept()</span><br><span class="line">print(<span class="string">'接收到请求，%s%s'</span> % (conversation, addr))</span><br><span class="line"></span><br><span class="line"><span class="comment"># conversation, addr = server.accept()</span></span><br><span class="line"><span class="comment"># print('接收到请求，%s%s' % (conversation,addr))</span></span><br></pre></td></tr></table></figure></p>
</blockquote>
</blockquote>
<blockquote>
<blockquote>
<p>6.接收消息（客户端发送给服务器消息）<br>    recv(缓存大小) - 获取客户端给服务器发送的数据，返回值是二进制<br>    缓存大小 - 决定一次可以接收的最大字节数<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">re_data = conversation.recv(<span class="number">1024</span>)</span><br><span class="line">print(re_data.decode(<span class="string">'utf-8'</span>))</span><br></pre></td></tr></table></figure></p>
</blockquote>
</blockquote>
<blockquote>
<blockquote>
<p>7.发送数据<br>    send（数据） - 将指定的数据发送给客户端<br>    数据 - 要求是2进制。<br>    字符串（str）转二进制（bytes）<br>    a.bytes（字符串，’utf-8’）<br>    b.str1.encode(encoding=’utf-8’)<br>    二进制转字符串<br>    a.str(二进制数据，’utf-8’)<br>    b.二进制.decode(‘utf-8’)<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># message = 'HTTP/1.1 200 OK\r\n\r\n 111333！'</span></span><br><span class="line">message = <span class="string">'下午好！'</span></span><br><span class="line">conversation.send(bytes(message, <span class="string">'utf-8'</span>))</span><br></pre></td></tr></table></figure></p>
</blockquote>
</blockquote>
<blockquote>
<blockquote>
<p>8.关闭连接<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conversation.close()</span><br></pre></td></tr></table></figure></p>
</blockquote>
</blockquote>
<p>#18.2 客户端套接字<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> socket</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>1.创建套接字对象<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">client = socket.socket()</span><br></pre></td></tr></table></figure></p>
</blockquote>
<blockquote>
<p>2.链接服务器<br>connect((ip,端口))<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">client.connect((<span class="string">'10.7.187.55'</span>, <span class="number">8081</span>))</span><br><span class="line"><span class="comment"># client.connect(('10.7.187.149', 8081))</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="number">1</span>:</span><br></pre></td></tr></table></figure></p>
</blockquote>
<blockquote>
<p>3.发送消息<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">message = input(<span class="string">'&gt;&gt;'</span>)</span><br><span class="line">client.send(message.encode(<span class="string">'utf-8'</span>))</span><br><span class="line">flag = <span class="keyword">False</span></span><br></pre></td></tr></table></figure></p>
</blockquote>
<blockquote>
<p>4.接收消息<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># client.recv(1024)   # 超过会分段，因为TCP协议</span></span><br><span class="line">re_data = client.recv(<span class="number">1024</span>)</span><br><span class="line">print(re_data.decode(<span class="string">'utf-8'</span>))</span><br></pre></td></tr></table></figure></p>
</blockquote>
<p>#18.3 图片servers<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建套接字对象</span></span><br><span class="line">server = socket.socket()</span><br><span class="line"><span class="comment"># 绑定ip和端口</span></span><br><span class="line">server.bind((<span class="string">'10.7.187.55'</span>, <span class="number">9090</span>))</span><br><span class="line"><span class="comment"># 监听</span></span><br><span class="line">server.listen(<span class="number">512</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="keyword">True</span>:</span><br><span class="line">    <span class="comment"># 接收请求</span></span><br><span class="line">    conversation, addr = server.accept()  <span class="comment"># 执行到这才链接</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 保持通话</span></span><br><span class="line">    <span class="keyword">while</span> <span class="keyword">True</span>:</span><br><span class="line">        data = conversation.recv(<span class="number">1024</span>)</span><br><span class="line">        print(<span class="string">'客户端：'</span>, data.decode(<span class="string">'utf-8'</span>))</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 发送消息</span></span><br><span class="line">        message = input(<span class="string">'服务器：'</span>)</span><br><span class="line">        conversation.send(message.encode(<span class="string">'utf-8'</span>))</span><br><span class="line">    <span class="comment"># # 发送图片</span></span><br><span class="line">    <span class="comment"># with open('', 'br') as f:</span></span><br><span class="line">    <span class="comment">#     content = f.read()</span></span><br><span class="line">    <span class="comment">#     conversation.send(content)</span></span><br><span class="line"></span><br><span class="line">    conversation.close()</span><br></pre></td></tr></table></figure></p>
<p>#18.4 图片客户端<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"></span><br><span class="line">client = socket.socket()</span><br><span class="line"><span class="comment"># client.connect(('10.7.187.55', 9090))</span></span><br><span class="line">client.connect((<span class="string">'10.7.187.149'</span>, <span class="number">9092</span>))</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="keyword">True</span>:</span><br><span class="line">    <span class="comment"># 发送消息</span></span><br><span class="line">    message = input(<span class="string">'客户端：'</span>)</span><br><span class="line">    client.send(message.encode(<span class="string">'utf-8'</span>))</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 接收消息</span></span><br><span class="line">    data = client.recv(<span class="number">1024</span>)</span><br><span class="line">    print(<span class="string">'服务器：'</span>, data.decode(<span class="string">'utf-8'</span>))</span><br><span class="line"><span class="comment"># # 不断接收数据，直到接受完为止</span></span><br><span class="line"><span class="comment"># # 创建一个空的二进制数据</span></span><br><span class="line"><span class="comment"># data = bytes()</span></span><br><span class="line"><span class="comment"># while True:</span></span><br><span class="line"><span class="comment">#     re_data = client.recv(1024)</span></span><br><span class="line"><span class="comment">#     data += re_data</span></span><br><span class="line"><span class="comment">#     if not re_data:</span></span><br><span class="line"><span class="comment">#         break</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># with open('new.png', 'bw') as f:</span></span><br><span class="line"><span class="comment">#     f.write(re_data)</span></span><br></pre></td></tr></table></figure></p>
<h1 id="18-5-网络请求"><a href="#18-5-网络请求" class="headerlink" title="18.5 网络请求"></a>18.5 网络请求</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># url</span></span><br><span class="line"><span class="comment"># 协议://主机地址/路径</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">协议：不同</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">python中做http请求需要第三方库requests</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">get(url,（参数字典）**kwargs) - 返回响应</span></span><br><span class="line"><span class="string">"""</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>1.向服务器发送get请求<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># a.手动拼url</span></span><br><span class="line"><span class="comment"># url = 'https://www.apiopen.top/satinApi?type=1&amp;page=1'</span></span><br><span class="line"><span class="comment"># response = requests.get(url)</span></span><br><span class="line"><span class="comment"># print(response)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># b.自动拼接url</span></span><br><span class="line">url = <span class="string">'https://www.apiopen.top/satinApi'</span></span><br><span class="line">response = requests.get(url, &#123;<span class="string">'type'</span>: <span class="number">1</span>, <span class="string">'page'</span>: <span class="number">1</span>&#125;)</span><br><span class="line">print(response)               <span class="comment"># &lt;Response [200]&gt;</span></span><br></pre></td></tr></table></figure></p>
</blockquote>
<blockquote>
<p>2.获取响应头<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">header = response.headers</span><br><span class="line">print(header)</span><br></pre></td></tr></table></figure></p>
</blockquote>
<blockquote>
<p>3.获取响应体</p>
<blockquote>
<p>a.以二进制形式获取相应体<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">content = response.content</span><br><span class="line">print(content, type(content))  <span class="comment"># byte</span></span><br></pre></td></tr></table></figure></p>
</blockquote>
</blockquote>
<blockquote>
<blockquote>
<p>b.获取json格式响应体 - 自动将json数据转换成python<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">json = response.json()</span><br><span class="line">print(json, type(json))   <span class="comment"># dict</span></span><br></pre></td></tr></table></figure></p>
</blockquote>
</blockquote>
<blockquote>
<blockquote>
<p>c.获取字符串格式响应体<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">text = response.text</span><br><span class="line">print(text, type(text))     <span class="comment"># str</span></span><br></pre></td></tr></table></figure></p>
</blockquote>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 应用 下载网络图片</span></span><br><span class="line">url = <span class="string">'https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b10000_10000&amp;sec=</span></span><br><span class="line"><span class="string">1543395098&amp;di=2a5bbaa5600097b050ba69a688672de9&amp;src=http://p0.qhimgs4.com</span></span><br><span class="line"><span class="string">/t0112e7ebfdef7f923d.jpg'</span></span><br><span class="line">response = requests.get(url)</span><br><span class="line">image = response.content</span><br><span class="line"><span class="keyword">with</span> open(<span class="string">'王也.jpg'</span>, <span class="string">'wb'</span>) <span class="keyword">as</span> f:</span><br><span class="line">    f.write(image)</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    

    
    
    
    <div>
    
    </div>
    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/21/day19-多线程/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="酱油壹号">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/tusun.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="四川小旋风">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2018/12/21/day19-多线程/" class="post-title-link" itemprop="http://yoursite.com/page/2/index.html">未命名</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2018-12-21 09:34:21 / 修改时间：09:31:35" itemprop="dateCreated datePublished" datetime="2018-12-21T09:34:21+08:00">2018-12-21</time>
            

            
              

              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>#19.1 耗时操作</p>
<blockquote>
<p>一个进程默认有一个线程，这个线程叫主线程。默认情况下，所有的代码都是在主线程中执行的。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time,datetime</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">download</span><span class="params">(file_name)</span>:</span></span><br><span class="line">    print(<span class="string">'开始下载：%s'</span> % file_name, datetime.datetime.now())</span><br><span class="line">    time.sleep(<span class="number">5</span>)          <span class="comment"># 程序执行到这会停5秒，再执行后面的代码</span></span><br><span class="line">    print(<span class="string">'%s下载结束'</span> % file_name, datetime.datetime.now())</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 在主线程中下载俩个电影</span></span><br><span class="line">download(<span class="string">'小黄人'</span>)</span><br><span class="line"></span><br><span class="line">download(<span class="string">'地心游记'</span>)</span><br></pre></td></tr></table></figure></p>
</blockquote>
<p>#19.2 多线程</p>
<blockquote>
<p>python中提供threading模块来支持多线程技术</p>
</blockquote>
<blockquote>
<p>默认创建的线程叫主线程，其它的线程叫子线程，如果希望代码在子线程中执行，必须手动创建线程对象。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"><span class="keyword">import</span> time,datetime</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">download</span><span class="params">(file_name)</span>:</span></span><br><span class="line">    print(<span class="string">'开始下载：%s'</span> % file_name, datetime.datetime.now())</span><br><span class="line">    time.sleep(<span class="number">5</span>)          <span class="comment"># 程序执行到这会停5秒，再执行后面的代码</span></span><br><span class="line">    print(<span class="string">'%s下载结束'</span> % file_name, datetime.datetime.now())</span><br><span class="line">    print(threading.current_thread())  <span class="comment"># 当前线程</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># # 在主线程中下载俩个电影</span></span><br><span class="line"><span class="comment"># download('小黄人')    # &lt;_MainThread(MainThread, started 14148)&gt;</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># download('地心游记') # &lt;_MainThread(MainThread, started 14148)&gt;</span></span><br></pre></td></tr></table></figure></p>
</blockquote>
<blockquote>
<blockquote>
<p>1.创建线程对象<br>a.Thread - 线程类<br>b.Thread(target=函数名,args=参数列表) - 直接创建线程对象，返回线程对象<br>函数名 - 需要在当前创建的子线程中执行的函数变量<br>参数列表 - 元组，元组的元素是函数的参数元组，注意参数只要1个时别忘了逗号。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">t1 = threading.Thread(target=download, args=(<span class="string">'小黄人'</span>, ))</span><br><span class="line">t2 = threading.Thread(target=download, args=(<span class="string">'地心游记'</span>, ))</span><br></pre></td></tr></table></figure></p>
</blockquote>
</blockquote>
<blockquote>
<blockquote>
<p>2.在子线程中执行任务<br>在这就是调用t1对应的线程中调用download函数，并传1个参数’小黄人‘<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">t1.start()            <span class="comment"># &lt;Thread(Thread-1, started 16228)&gt;</span></span><br><span class="line">t2.start()            <span class="comment"># &lt;Thread(Thread-2, started 15660)&gt;</span></span><br></pre></td></tr></table></figure></p>
</blockquote>
</blockquote>
<p>#19.3 线程类子类<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">from threading import Thread,current_thread</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>创建子线程除了直接创建Thread对象，还可以创建这个类的子类对象</p>
</blockquote>
<p><strong>注意：一个进程有多个线程，进程会在所有的线程结束后才结束</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"># 1.声明一个类，继承Thread</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">class DownloadThread(Thread):</span><br><span class="line">    # 想要给run方法传值，通过添加对象属性来传</span><br><span class="line">    def __init__(self, filename):</span><br><span class="line">        super().__init__()</span><br><span class="line">        self.filename = filename</span><br><span class="line"></span><br><span class="line">    # 重写run方法</span><br><span class="line">    def run(self):</span><br><span class="line">        # 这里的代码会在子线程中执行</span><br><span class="line">        print(&apos;run&apos;)</span><br><span class="line">        print(current_thread())</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 3.创建线程对象</span><br><span class="line">t1 = DownloadThread(&apos;789&apos;)</span><br><span class="line"># 4.通过线程对象调用start在子线程中执行run方法</span><br><span class="line">t1.start()      # &lt;DownloadThread(Thread-1, started 17764)&gt;</span><br><span class="line"></span><br><span class="line">t1.run()  # 主线程执行&lt;_MainThread(MainThread, started 18984)&gt;</span><br></pre></td></tr></table></figure></p>
<p>#19.4 join函数</p>
<blockquote>
<p>线程对象.join（） - 等待线程对象执行完成<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time,datetime,random</span><br><span class="line"><span class="keyword">from</span> threading <span class="keyword">import</span> Thread</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DownThread</span><span class="params">(Thread)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, file_name)</span>:</span></span><br><span class="line">        super().__init__()</span><br><span class="line">        self.file_name = file_name</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">run</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">'开始下载:%s'</span> % self.file_name)</span><br><span class="line">        t = random.randint(<span class="number">5</span>, <span class="number">12</span>)</span><br><span class="line">        time.sleep(t)</span><br><span class="line">        print(<span class="string">'结束下载:%s'</span> % self.file_name)</span><br><span class="line">        print(<span class="string">'耗时%d秒'</span> % t)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    t1 = DownThread(<span class="string">'小黄人'</span>)</span><br><span class="line">    t2 = DownThread(<span class="string">'黄人'</span>)</span><br><span class="line"></span><br><span class="line">    time1 = time.time()</span><br><span class="line">    t1.start()</span><br><span class="line">    t2.start()</span><br><span class="line"></span><br><span class="line">    t1.join()</span><br><span class="line">    t2.join()</span><br><span class="line">    <span class="comment"># t1和t2都执行完成后才执行 time2</span></span><br><span class="line">    time2 = time.time()</span><br><span class="line">    print(<span class="string">'总用时%d秒'</span> % (time2-time1))</span><br></pre></td></tr></table></figure></p>
</blockquote>
<p>#19.5 数据共享<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">from</span> threading <span class="keyword">import</span> Thread</span><br><span class="line"><span class="keyword">import</span> threading</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>当多个线程同时对一个数据进行操作时，可能会出现数据混乱</p>
</blockquote>
<blockquote>
<p>多个线程对一个数据进行操作，一个线程将数据读出来，还没来得及存进去，另一个线程又去调用该数据，这时可能产生数据安全隐患。</p>
</blockquote>
<blockquote>
<p>解决方式是给数据加锁</p>
</blockquote>
<blockquote>
<blockquote>
<p>Thread - 创建子线程<br>Lock - 锁；创建锁对象<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Account</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, balance, name)</span>:</span></span><br><span class="line">        self.balance = balance              <span class="comment"># 余额</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.lock = threading.Lock()      <span class="comment"># 创建锁对象</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">save</span><span class="params">(self, num)</span>:</span></span><br><span class="line">        print(self.name, <span class="string">'开始存钱'</span>)</span><br><span class="line">        <span class="comment"># 加锁</span></span><br><span class="line">        self.lock.acquire()</span><br><span class="line">        old_balance = self.balance</span><br><span class="line">        time.sleep(<span class="number">3</span>)</span><br><span class="line">        self.balance = old_balance + num</span><br><span class="line">        <span class="comment"># 解锁</span></span><br><span class="line">        self.lock.release()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">draw</span><span class="params">(self, num)</span>:</span></span><br><span class="line">        print(self.name, <span class="string">'开始取钱'</span>)</span><br><span class="line">        <span class="comment"># 加锁</span></span><br><span class="line">        self.lock.acquire()</span><br><span class="line">        old_balance = self.balance</span><br><span class="line">        time.sleep(<span class="number">3</span>)</span><br><span class="line">        self.balance = old_balance - num</span><br><span class="line">        <span class="comment"># 解锁</span></span><br><span class="line">        self.lock.release()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">account1 = Account(<span class="number">1000</span>, <span class="string">'小黄人'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 支付宝存钱</span></span><br><span class="line">t1 = Thread(target=account1.save, args=(<span class="number">1000</span>, ))</span><br><span class="line"><span class="comment"># 银行卡取钱</span></span><br><span class="line">t2 = Thread(target=account1.draw, args=(<span class="number">500</span>, ))</span><br><span class="line"></span><br><span class="line">t1.start()</span><br><span class="line">t2.start()</span><br><span class="line"></span><br><span class="line">t1.join()</span><br><span class="line">t2.join()</span><br><span class="line"></span><br><span class="line">print(account1.balance)</span><br></pre></td></tr></table></figure></p>
</blockquote>
</blockquote>

          
        
      
    </div>

    

    
    
    
    <div>
    
    </div>
    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/21/学生管理系统2-0/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="酱油壹号">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/tusun.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="四川小旋风">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2018/12/21/学生管理系统2-0/" class="post-title-link" itemprop="http://yoursite.com/page/2/index.html">未命名</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2018-12-21 09:34:21 / 修改时间：09:31:35" itemprop="dateCreated datePublished" datetime="2018-12-21T09:34:21+08:00">2018-12-21</time>
            

            
              

              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>#mymodule：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">page</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    输出界面</span></span><br><span class="line"><span class="string">    :return:</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    print(<span class="string">'='</span> * <span class="number">88</span>, <span class="string">'\n❀❀欢迎来到LOL小学生管理系统：\n'</span>)</span><br><span class="line">    dict1 = &#123;<span class="string">'      💗 1.'</span>: <span class="string">'添加学生'</span>, <span class="string">'      💗 2.'</span>: <span class="string">'查看学生'</span>,</span><br><span class="line">             <span class="string">'      💗 3.'</span>: <span class="string">'修改学生信息'</span>, <span class="string">'      💗 4.'</span>: <span class="string">'删除学生'</span>,</span><br><span class="line">             <span class="string">'      💗 5.'</span>: <span class="string">'返回'</span>, <span class="string">'      💗 6.'</span>: <span class="string">'退出'</span>&#125;</span><br><span class="line">    <span class="keyword">for</span> key <span class="keyword">in</span> dict1:</span><br><span class="line">        print(key, dict1[key])</span><br><span class="line">    print(<span class="string">'='</span> * <span class="number">88</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add_student</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    添加学生信息</span></span><br><span class="line"><span class="string">    :return:</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="keyword">global</span> stu_id</span><br><span class="line">    dict0 = &#123;<span class="string">'学号'</span>: next(stu_id)&#125;</span><br><span class="line">    value = input(<span class="string">'请输入学生姓名：'</span>)</span><br><span class="line">    dict0[<span class="string">'姓名'</span>] = value</span><br><span class="line">    value = input(<span class="string">'请输入学生年龄：'</span>)</span><br><span class="line">    dict0[<span class="string">'年龄'</span>] = value</span><br><span class="line">    value = input(<span class="string">'请输入学生电话：'</span>)</span><br><span class="line">    dict0[<span class="string">'电话'</span>] = value</span><br><span class="line">    <span class="keyword">return</span> dict0</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_students_id</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    生成学生学号</span></span><br><span class="line"><span class="string">    :return:</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    id = <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> <span class="number">1</span>:</span><br><span class="line">        <span class="comment"># str1.zfill(n) - 将str1返回为长度n的新字符串，以原字符串右对齐，前面填充0。</span></span><br><span class="line">        <span class="keyword">yield</span> <span class="string">'stu'</span> + str(id).zfill(<span class="number">3</span>)</span><br><span class="line">        id += <span class="number">1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">tian_jia</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    添加学生</span></span><br><span class="line"><span class="string">    :return:</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="keyword">global</span> i</span><br><span class="line">    dict0 = add_student()</span><br><span class="line">    all_students.append(dict0)  <span class="comment"># 防止越界，扩展列表长度</span></span><br><span class="line">    all_students[i] = dict0  <span class="comment"># 防止被覆盖</span></span><br><span class="line">    i += <span class="number">1</span></span><br><span class="line">    print(<span class="string">'🐕'</span>*<span class="number">16</span>, end=<span class="string">''</span>)</span><br><span class="line">    print(<span class="string">"""</span></span><br><span class="line"><span class="string">         ❀❀添加成功!❀❀</span></span><br><span class="line"><span class="string">         💗 1. 继续</span></span><br><span class="line"><span class="string">         💗 2. 返回</span></span><br><span class="line"><span class="string">         ❀❀请选择(1-2):❀❀"""</span>)</span><br><span class="line">    print(<span class="string">'🐕'</span>*<span class="number">16</span>)</span><br><span class="line">    <span class="keyword">while</span> <span class="number">1</span>:</span><br><span class="line">        n = input()</span><br><span class="line">        <span class="keyword">if</span> n == <span class="string">'2'</span>:</span><br><span class="line">            bool3 = <span class="keyword">False</span></span><br><span class="line">            <span class="keyword">return</span> bool3</span><br><span class="line">        <span class="keyword">elif</span> n == <span class="string">'1'</span>:</span><br><span class="line">            bool3 = <span class="keyword">True</span></span><br><span class="line">            <span class="keyword">return</span> bool3</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            print(<span class="string">'请输入1-2内的数字。\n1. 继续\n2. 返回'</span>)</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">find_student</span><span class="params">(str1, n)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    在学生总表中查找包含&#123;str1，n&#125;的学生</span></span><br><span class="line"><span class="string">    :param n: 输入的查找内容</span></span><br><span class="line"><span class="string">    :param str1: 查找的关键字</span></span><br><span class="line"><span class="string">    :return:下标列表 or -1</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    index_list = []</span><br><span class="line">    <span class="keyword">for</span> index <span class="keyword">in</span> range(len(all_students)):</span><br><span class="line">        <span class="keyword">if</span> n == all_students[index][str1]:  <span class="comment"># 找到相应位置</span></span><br><span class="line">            index_list.append(index)</span><br><span class="line">    <span class="keyword">return</span> index_list</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">show_find_student</span><span class="params">(index_list: list)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    打印查询到的所有学生，并编号</span></span><br><span class="line"><span class="string">    :return:</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    print(<span class="string">'符合条件的学生信息为：'</span>)</span><br><span class="line">    print(<span class="string">'='</span> * <span class="number">32</span>)</span><br><span class="line">    <span class="keyword">for</span> index <span class="keyword">in</span> range(len(index_list)):</span><br><span class="line">        print(str(index+<span class="number">1</span>) + <span class="string">' '</span>, end=<span class="string">''</span>)</span><br><span class="line">        <span class="keyword">for</span> key <span class="keyword">in</span> all_students[index_list[index]]:</span><br><span class="line">            print(key + <span class="string">':'</span> + all_students[index_list[index]][key], end=<span class="string">' '</span>)</span><br><span class="line">        print()</span><br><span class="line">        print(<span class="string">'='</span> * <span class="number">32</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">look_over</span><span class="params">(str1, n)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    在学生总表中查找并打印出包含&#123;str1，n&#125;的学生</span></span><br><span class="line"><span class="string">    :param n:输入的查找内容</span></span><br><span class="line"><span class="string">    :param str1:查找的关键字</span></span><br><span class="line"><span class="string">    :return:</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    print(<span class="string">'学生信息如下：'</span>)</span><br><span class="line">    print(<span class="string">'='</span> * <span class="number">32</span>)</span><br><span class="line">    <span class="keyword">for</span> index <span class="keyword">in</span> range(len(all_students)):</span><br><span class="line">        <span class="keyword">if</span> n == all_students[index][str1]:  <span class="comment"># 找到相应位置</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> key <span class="keyword">in</span> all_students[index]:</span><br><span class="line">                print(key + <span class="string">':'</span> + all_students[index][key], end=<span class="string">' '</span>)</span><br><span class="line">            print()</span><br><span class="line">    print(<span class="string">'='</span> * <span class="number">32</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">cha_kan</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    查看学生</span></span><br><span class="line"><span class="string">    :return:</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="keyword">while</span> <span class="number">1</span>:</span><br><span class="line">        print(<span class="string">'🐱'</span> * <span class="number">16</span>, end=<span class="string">''</span>)</span><br><span class="line">        print(<span class="string">"""</span></span><br><span class="line"><span class="string">        💗 1.查看所有学生</span></span><br><span class="line"><span class="string">        💗 2.按姓名查找</span></span><br><span class="line"><span class="string">        💗 3.按学号查找</span></span><br><span class="line"><span class="string">        💗 4.返回</span></span><br><span class="line"><span class="string">        ❀❀请选择(1-4):❀❀"""</span>)</span><br><span class="line">        print(<span class="string">'🐱'</span> * <span class="number">16</span>)</span><br><span class="line">        n = input()</span><br><span class="line">        <span class="keyword">if</span> n == <span class="string">'4'</span>:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">elif</span> n == <span class="string">'1'</span>:</span><br><span class="line">            print(<span class="string">'所有学生信息如下：'</span>)</span><br><span class="line">            print(<span class="string">'='</span> * <span class="number">32</span>)</span><br><span class="line">            show_all()</span><br><span class="line">            print(<span class="string">'='</span> * <span class="number">32</span>)</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        <span class="keyword">elif</span> n == <span class="string">'2'</span>:</span><br><span class="line">            n = input(<span class="string">'请输入要查找的学生姓名：'</span>)</span><br><span class="line">            str1 = <span class="string">'姓名'</span></span><br><span class="line">            value = len(find_student(str1, n))</span><br><span class="line">            <span class="keyword">if</span> value != <span class="number">0</span>:</span><br><span class="line">                look_over(str1, n)  <span class="comment"># 注意自变量</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                print(<span class="string">'查无此人！请核对输入信息！！'</span>)</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        <span class="keyword">elif</span> n == <span class="string">'3'</span>:</span><br><span class="line">            n = input(<span class="string">'请输入要查找的学生的学号：'</span>)</span><br><span class="line">            str1 = <span class="string">'学号'</span></span><br><span class="line">            value = len(find_student(str1, n))</span><br><span class="line">            <span class="keyword">if</span> value != <span class="number">0</span>:</span><br><span class="line">                look_over(str1, n)  <span class="comment"># 注意自变量</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                print(<span class="string">'查无此人！请核对输入信息！！'</span>)</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            print(<span class="string">'请输入1-4内的数字。'</span>)</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">revise_student</span><span class="params">(index, index_list)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    依据不同的i值(编号)修改不同的学生</span></span><br><span class="line"><span class="string">    :param index: 需要修改的学生编号</span></span><br><span class="line"><span class="string">    :return:</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="keyword">while</span> <span class="number">1</span>:</span><br><span class="line">        print(<span class="string">'🐘'</span>*<span class="number">22</span>, end=<span class="string">''</span>)</span><br><span class="line">        print(<span class="string">"""</span></span><br><span class="line"><span class="string">        请选择要修改的信息:</span></span><br><span class="line"><span class="string">            💗 1.修改学号</span></span><br><span class="line"><span class="string">            💗 2.修改姓名</span></span><br><span class="line"><span class="string">            💗 3.修改年龄</span></span><br><span class="line"><span class="string">            💗 4.修改电话</span></span><br><span class="line"><span class="string">            💗 5.修改下一个学生</span></span><br><span class="line"><span class="string">            💗 6.退出修改</span></span><br><span class="line"><span class="string">            ❀❀请选择（1-6）:❀❀"""</span>)</span><br><span class="line">        print(<span class="string">'🐘'</span> * <span class="number">22</span>)</span><br><span class="line">        n = input()</span><br><span class="line">        <span class="keyword">if</span> n == <span class="string">'5'</span>:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">elif</span> n == <span class="string">'6'</span>:</span><br><span class="line">            bool2 = <span class="keyword">False</span></span><br><span class="line">            <span class="keyword">return</span> bool2</span><br><span class="line">        <span class="keyword">elif</span> n == <span class="string">'1'</span>:</span><br><span class="line">            n2 = input(<span class="string">'请输入修改后的学号：'</span>)</span><br><span class="line">            str1 = <span class="string">'学号'</span></span><br><span class="line">            revise_student1(index_list[index], str1, n2)</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        <span class="keyword">elif</span> n == <span class="string">'2'</span>:</span><br><span class="line">            n2 = input(<span class="string">'请输入修改后的姓名：'</span>)</span><br><span class="line">            str1 = <span class="string">'姓名'</span></span><br><span class="line">            revise_student1(index_list[index], str1, n2)</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        <span class="keyword">elif</span> n == <span class="string">'3'</span>:</span><br><span class="line">            n2 = input(<span class="string">'请输入修改后的年龄：'</span>)</span><br><span class="line">            str1 = <span class="string">'年龄'</span></span><br><span class="line">            revise_student1(index_list[index], str1, n2)</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        <span class="keyword">elif</span> n == <span class="string">'4'</span>:</span><br><span class="line">            n2 = input(<span class="string">'请输入修改后的电话：'</span>)</span><br><span class="line">            str1 = <span class="string">'电话'</span></span><br><span class="line">            revise_student1(index_list[index], str1, n2)</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            print(<span class="string">'请输入1-6内的数字。'</span>)</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">revise_student1</span><span class="params">(index, str1, n2)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    在学生总表中找到下标为index的学生字典，并将key为str1的值改为n2</span></span><br><span class="line"><span class="string">    :param index:</span></span><br><span class="line"><span class="string">    :param n2:</span></span><br><span class="line"><span class="string">    :param str1:</span></span><br><span class="line"><span class="string">    :return:</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    all_students[index][str1] = n2</span><br><span class="line">    print(<span class="string">"修改成功!修改后的信息为："</span>)</span><br><span class="line">    print(<span class="string">'='</span> * <span class="number">32</span>)</span><br><span class="line">    <span class="keyword">for</span> key <span class="keyword">in</span> all_students[index]:</span><br><span class="line">        print(key + <span class="string">':'</span> + all_students[index][key], end=<span class="string">' '</span>)</span><br><span class="line">    print()</span><br><span class="line">    print(<span class="string">'='</span> * <span class="number">32</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">xiu_gai</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="string">"""修改学生"""</span></span><br><span class="line">    bool2 = <span class="keyword">True</span></span><br><span class="line">    <span class="keyword">while</span> bool2:</span><br><span class="line">        print(<span class="string">'🐖'</span>*<span class="number">16</span>, end=<span class="string">''</span>)</span><br><span class="line">        print(<span class="string">"""</span></span><br><span class="line"><span class="string">         💗 1.按学号修改</span></span><br><span class="line"><span class="string">         💗 2.按姓名修改</span></span><br><span class="line"><span class="string">         💗 3.返回</span></span><br><span class="line"><span class="string">         ❀❀请选择（1-3）：❀❀"""</span>)</span><br><span class="line">        print(<span class="string">'🐖'</span> * <span class="number">16</span>)</span><br><span class="line">        n = input()</span><br><span class="line">        <span class="keyword">if</span> n == <span class="string">'3'</span>:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">elif</span> n == <span class="string">'1'</span>:</span><br><span class="line">            n1 = input(<span class="string">'请输入要修改学生的学号：'</span>)  <span class="comment"># 学号只有一个</span></span><br><span class="line">            index_list = find_student(<span class="string">'学号'</span>, n1)    <span class="comment"># 找出需要修改的字典</span></span><br><span class="line">            <span class="comment">#print(index_list)</span></span><br><span class="line">            <span class="keyword">if</span> len(index_list) != <span class="number">0</span>:</span><br><span class="line">                show_find_student(index_list)</span><br><span class="line">                revise_student(<span class="number">0</span>, index_list)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                print(<span class="string">'查无此人！请核对输入信息！！'</span>)</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">        <span class="keyword">elif</span> n == <span class="string">'2'</span>:</span><br><span class="line">            n1 = input(<span class="string">'请输入要修改学生的姓名：'</span>)</span><br><span class="line">            index_list = find_student(<span class="string">'姓名'</span>, n1)</span><br><span class="line">            <span class="comment"># print(index_list)</span></span><br><span class="line">            <span class="keyword">if</span> len(index_list) != <span class="number">0</span>:</span><br><span class="line">                show_find_student(index_list)</span><br><span class="line">                n2 = int(input(<span class="string">'请选择要修改学生的编号：'</span>))<span class="number">-1</span></span><br><span class="line">                revise_student(n2, index_list)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                print(<span class="string">'查无此人！请核对输入信息！！'</span>)</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">delete_student</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    删除学生</span></span><br><span class="line"><span class="string">    :return:</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="keyword">while</span> <span class="number">1</span>:</span><br><span class="line">        print(<span class="string">'🐮'</span> * <span class="number">16</span>, end=<span class="string">''</span>)</span><br><span class="line">        print(<span class="string">"""</span></span><br><span class="line"><span class="string">         💗 1.按学号删除</span></span><br><span class="line"><span class="string">         💗 2.按姓名删除</span></span><br><span class="line"><span class="string">         💗 3.返回</span></span><br><span class="line"><span class="string">         ❀❀请选择（1-3）：❀❀"""</span>)</span><br><span class="line">        print(<span class="string">'🐮'</span> * <span class="number">16</span>)</span><br><span class="line">        n = input()</span><br><span class="line">        <span class="keyword">if</span> n == <span class="string">'1'</span>:</span><br><span class="line">            n1 = input(<span class="string">'请输入要删除学生的学号：'</span>)</span><br><span class="line">            str1 = <span class="string">'学号'</span></span><br><span class="line">            index_list = find_student(str1, n1)</span><br><span class="line">            <span class="keyword">if</span> len(index_list) != <span class="number">0</span>:</span><br><span class="line">                show_find_student(index_list)</span><br><span class="line">                print(<span class="string">'🐍'</span>*<span class="number">16</span>, end=<span class="string">''</span>)</span><br><span class="line">                print(<span class="string">"""</span></span><br><span class="line"><span class="string">         请确认是否删除：</span></span><br><span class="line"><span class="string">         💗 1.确认删除</span></span><br><span class="line"><span class="string">         💗 2.返回上一层</span></span><br><span class="line"><span class="string">         ❀❀请选择（1-2）❀❀"""</span>)</span><br><span class="line">                print(<span class="string">'🐍'</span> * <span class="number">16</span>)</span><br><span class="line">                n3 = input()</span><br><span class="line">                <span class="keyword">if</span> n3 == <span class="string">'1'</span>:</span><br><span class="line">                    n2 = int(input(<span class="string">'请输入要删除学生的编号：'</span>)) - <span class="number">1</span></span><br><span class="line">                    all_students.pop(index_list[n2])</span><br><span class="line">                    print(<span class="string">'=====删除成功!请继续====='</span>)</span><br><span class="line">                    <span class="keyword">global</span> i</span><br><span class="line">                    i -= <span class="number">1</span></span><br><span class="line">                    <span class="keyword">continue</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    <span class="keyword">continue</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                print(<span class="string">'查无此人！请核对输入信息！！'</span>)</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">        <span class="keyword">elif</span> n == <span class="string">'2'</span>:</span><br><span class="line">            n1 = input(<span class="string">'请输入要删除学生的姓名：'</span>)</span><br><span class="line">            str1 = <span class="string">'姓名'</span></span><br><span class="line">            index_list = find_student(str1, n1)</span><br><span class="line">            <span class="keyword">if</span> len(index_list) != <span class="number">0</span>:</span><br><span class="line">                show_find_student(index_list)</span><br><span class="line">                print(<span class="string">'🐍'</span> * <span class="number">16</span>, end=<span class="string">''</span>)</span><br><span class="line">                print(<span class="string">"""</span></span><br><span class="line"><span class="string">        请确认是否删除：</span></span><br><span class="line"><span class="string">        💗 1.确认删除</span></span><br><span class="line"><span class="string">        💗 2.返回上一层</span></span><br><span class="line"><span class="string">        ❀❀请选择（1-2）❀❀"""</span>)</span><br><span class="line">                print(<span class="string">'🐍'</span> * <span class="number">16</span>)</span><br><span class="line">                n3 = input()</span><br><span class="line">                <span class="keyword">if</span> n3 == <span class="string">'1'</span>:</span><br><span class="line">                    n2 = int(input(<span class="string">'请输入要删除学生的编号：'</span>)) - <span class="number">1</span></span><br><span class="line">                    all_students.pop(index_list[n2])</span><br><span class="line">                    print(<span class="string">'=====删除成功!请继续====='</span>)</span><br><span class="line">                    i -= <span class="number">1</span></span><br><span class="line">                    <span class="keyword">continue</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    <span class="keyword">continue</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                print(<span class="string">'查无此人！请核对输入信息！！'</span>)</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">        <span class="keyword">elif</span> n == <span class="string">'3'</span>:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            print(<span class="string">'请输入1-2内的数字。'</span>)</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">show_all</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    打印所有学生信息</span></span><br><span class="line"><span class="string">    :return:</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="keyword">for</span> index <span class="keyword">in</span> range(len(all_students)):</span><br><span class="line">        <span class="keyword">for</span> key <span class="keyword">in</span> all_students[index]:</span><br><span class="line">            print(key + <span class="string">':'</span> + all_students[index][key], end=<span class="string">' '</span>)  <span class="comment"># 空格隔开</span></span><br><span class="line">        print()  <span class="comment"># 每输出一个换行</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">all_students = []</span><br><span class="line">stu_id = get_students_id()</span><br><span class="line">i = <span class="number">0</span></span><br></pre></td></tr></table></figure></p>
<p>程序：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> mymodule</span><br><span class="line">bool1 = <span class="keyword">True</span></span><br><span class="line"><span class="keyword">while</span> bool1:</span><br><span class="line">    <span class="comment"># show_all()</span></span><br><span class="line">    mymodule.page()</span><br><span class="line">    choice = input(<span class="string">'请选择（1-6）：'</span>)</span><br><span class="line">    <span class="keyword">if</span> choice == <span class="string">'5'</span>:</span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line">    <span class="keyword">elif</span> choice == <span class="string">'6'</span>:</span><br><span class="line">        print(<span class="string">'谢谢使用，欢迎下次再来！'</span>)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">elif</span> choice == <span class="string">'1'</span>:</span><br><span class="line">        bool3 = <span class="keyword">True</span></span><br><span class="line">        <span class="keyword">while</span> bool3:</span><br><span class="line">            bool3 = mymodule.tian_jia()</span><br><span class="line">    <span class="keyword">elif</span> choice == <span class="string">'2'</span>:</span><br><span class="line">        mymodule.cha_kan()</span><br><span class="line">    <span class="keyword">elif</span> choice == <span class="string">'3'</span>:</span><br><span class="line">        mymodule.xiu_gai()</span><br><span class="line">    <span class="keyword">elif</span> choice == <span class="string">'4'</span>:</span><br><span class="line">        mymodule.delete_student()</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        print(<span class="string">'请输入1-5内的数字。'</span>)</span><br><span class="line">        <span class="keyword">continue</span></span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>

    

    
    
    
    <div>
    
    </div>
    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/21/day13-作业/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="酱油壹号">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/tusun.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="四川小旋风">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2018/12/21/day13-作业/" class="post-title-link" itemprop="http://yoursite.com/page/2/index.html">未命名</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2018-12-21 09:34:21 / 修改时间：09:31:35" itemprop="dateCreated datePublished" datetime="2018-12-21T09:34:21+08:00">2018-12-21</time>
            

            
              

              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>1.声明⼀个电脑类: 属性:品牌、颜⾊、内存⼤小 方法:打游戏、写代码、看视频<br>a.创建电脑类的对象，然后通过对象点的⽅方式获取、修改、添加和删除它的属性<br>b.通过attr相关⽅方法去获取、修改、添加和删除它的属性<br>程序：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Conputer</span>:</span></span><br><span class="line">    <span class="string">"""电脑类"""</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, brand, color, ram)</span>:</span></span><br><span class="line">        self.brand = brand</span><br><span class="line">        self.color = color</span><br><span class="line">        self.ram = ram</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">play_game</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">'玩游戏'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">write_code</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">'写代码'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">watch_video</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">'看视视频'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">cp1 = Conputer(<span class="string">'华硕'</span>, <span class="string">'宝石蓝'</span>, <span class="string">'4g'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># a</span></span><br><span class="line"><span class="comment"># 获取</span></span><br><span class="line">print(cp1.brand)         <span class="comment"># 华硕</span></span><br><span class="line"><span class="comment"># 修改</span></span><br><span class="line">cp1.brand = <span class="string">'apple'</span></span><br><span class="line">print(cp1.brand)         <span class="comment"># apple</span></span><br><span class="line"><span class="comment"># 添加</span></span><br><span class="line">cp1.price = <span class="number">2000</span></span><br><span class="line">print(cp1.price)         <span class="comment"># 2000</span></span><br><span class="line"><span class="comment"># 删除</span></span><br><span class="line"><span class="keyword">del</span> cp1.price</span><br><span class="line"><span class="comment"># print(cp1.price)  </span></span><br><span class="line"><span class="comment"># AttributeError: 'Conputer' object has no attribute 'price'</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(<span class="string">'='</span>*<span class="number">88</span>)</span><br><span class="line"><span class="comment"># b</span></span><br><span class="line"><span class="comment"># 获取</span></span><br><span class="line">print(getattr(cp1, <span class="string">'brand'</span>))        <span class="comment"># apple</span></span><br><span class="line"><span class="comment"># 修改</span></span><br><span class="line">setattr(cp1, <span class="string">'brand'</span>, <span class="string">'华硕'</span>)</span><br><span class="line">print(cp1.brand)                     <span class="comment"># 华硕</span></span><br><span class="line"><span class="comment"># 添加</span></span><br><span class="line">setattr(cp1, <span class="string">'price'</span>, <span class="number">3000</span>)</span><br><span class="line">print(getattr(cp1, <span class="string">'price'</span>))         <span class="comment"># 3000</span></span><br><span class="line"><span class="comment"># 删除</span></span><br><span class="line">delattr(cp1, <span class="string">'price'</span>)</span><br><span class="line">print(cp1.__dict__)      <span class="comment"># &#123;'brand': '华硕', 'color': '宝石蓝', 'ram': '4g'&#125;</span></span><br></pre></td></tr></table></figure></p>
<p>2.声明⼀个人的类和狗的类:<br>狗的属性:名字、颜色、年龄<br>狗的方法:叫唤<br>人的属性:名字、年龄、狗<br>人的⽅方法:遛狗<br>a.创建⼈人的对象⼩小明，让他拥有⼀一条狗大黄，然后让小明去遛⼤黄<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">class Person:</span><br><span class="line">    def __init__(self, name, age, dog):</span><br><span class="line">        self.name = name</span><br><span class="line">        self.age = age</span><br><span class="line">        self.dog = dog</span><br><span class="line"></span><br><span class="line">    def walk_the_dog(self):</span><br><span class="line">        print(&apos;%s在遛他的狗:%s&apos; % (self.name, self.dog))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">class Dog:</span><br><span class="line">    def __init__(self, name, color, age):</span><br><span class="line">        self.name = name</span><br><span class="line">        self.age = age</span><br><span class="line">        self.color = color</span><br><span class="line"></span><br><span class="line">    def shout(self):</span><br><span class="line">        print(&apos;%s:汪汪汪&apos; % self.name)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">p1 = Person(&apos;小明&apos;, 8, &apos;大黄&apos;)</span><br><span class="line">p1.walk_the_dog()</span><br></pre></td></tr></table></figure></p>
<p><img src="https://upload-images.jianshu.io/upload_images/14827706-072d0f776d642fb1.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="运行结果"></p>
<p>3.声明⼀一个圆类:<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Circle</span>:</span></span><br><span class="line">    <span class="string">"""一个圆类,包含求面积和周长的方法"""</span></span><br><span class="line">    pi = <span class="number">3.141592653589793</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, radius)</span>:</span></span><br><span class="line">        self.radius = radius</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">area</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> Circle.pi*self.radius**<span class="number">2</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">per</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">2</span>*Circle.pi*self.radius</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">c1 = Circle(<span class="number">3</span>)</span><br><span class="line">print(<span class="string">'面积为:%.2f'</span> % c1.area())          <span class="comment"># 面积为:28.27</span></span><br><span class="line">print(<span class="string">'周长为:%.2f'</span> % c1.per())           <span class="comment"># 周长为:18.85</span></span><br></pre></td></tr></table></figure></p>
<p>4.创建⼀一个学⽣生类:<br>属性:姓名，年龄，学号<br>方法:答到，展示学⽣生信息<br>创建⼀一个班级类:<br>属性:学⽣生，班级名<br>方法:添加学⽣生，删除学生，点名, 求班上学生的平均年龄<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span>:</span></span><br><span class="line">    <span class="string">"""学生类"""</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name, age, stu_id)</span>:</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.age = age</span><br><span class="line">        self.stu_id = stu_id</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">show_stu</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="comment"># print('$$$$$$$$$$$$', len(self.__dict__))</span></span><br><span class="line">        <span class="keyword">for</span> key <span class="keyword">in</span> self.__dict__:</span><br><span class="line">            print(key + <span class="string">':'</span> + self.__dict__[key], end=<span class="string">' '</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Class</span>:</span></span><br><span class="line">    <span class="string">"""班级类"""</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, class_name)</span>:</span></span><br><span class="line">        self.stu = []</span><br><span class="line">        self.class_name = class_name</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">add_stu</span><span class="params">(self)</span>:</span></span><br><span class="line">        stu_name = input(<span class="string">'请输入要添加学生的姓名:'</span>)</span><br><span class="line">        stu_age = input(<span class="string">'请输入要添加学生的年龄:'</span>)</span><br><span class="line">        stu_id = input(<span class="string">'请输入要添加学生的学号:'</span>)</span><br><span class="line">        <span class="comment"># self.stu.append(Student(stu_name, stu_age, stu_id).__dict__)</span></span><br><span class="line">        self.stu.append(Student(stu_name, stu_age, stu_id))</span><br><span class="line">        print(<span class="string">'添加成功'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">del_stu</span><span class="params">(self, name: str)</span>:</span></span><br><span class="line">        print(<span class="string">'----'</span>, self.stu)</span><br><span class="line">        index = i = <span class="number">0</span></span><br><span class="line">        <span class="comment"># for index in range(len(self.stu)-i):</span></span><br><span class="line">        <span class="keyword">while</span> index &lt; len(self.stu)-i:</span><br><span class="line">            <span class="comment"># print('7777', self.stu[index].name)</span></span><br><span class="line">            <span class="keyword">if</span> name == self.stu[index].name:</span><br><span class="line">                self.stu.pop(index)</span><br><span class="line">                print(<span class="string">'删除成功'</span>)</span><br><span class="line">                i += <span class="number">1</span></span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            print(<span class="string">'查无此人,删除失败!'</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">None</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">cal_stu</span><span class="params">(self, name)</span>:</span></span><br><span class="line">        <span class="keyword">for</span> index <span class="keyword">in</span> range(len(self.stu)):</span><br><span class="line">            <span class="keyword">if</span> name == self.stu[index].name:</span><br><span class="line">                self.stu[index].show_stu()</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            print(<span class="string">'查无此人,点名失败!'</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">None</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">aver_stu_age</span><span class="params">(self)</span>:</span></span><br><span class="line">        sum1 = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> index <span class="keyword">in</span> range(len(self.stu)):</span><br><span class="line">            sum1 += int(self.stu[index].age)</span><br><span class="line">        <span class="keyword">return</span> sum1/len(self.stu)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">show_all</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">for</span> index <span class="keyword">in</span> range(len(self.stu)):</span><br><span class="line">            self.stu[index].show_stu()</span><br><span class="line">            print()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">c1 = Class(<span class="string">'火箭'</span>)</span><br><span class="line"><span class="keyword">while</span> <span class="number">1</span>:</span><br><span class="line">    print(<span class="string">'1.添加学⽣生\n2.删除学生\n3.点名\n4.求班上学生的平均年龄'</span>)</span><br><span class="line">    choice = input()</span><br><span class="line">    <span class="keyword">if</span> choice == <span class="string">'1'</span>:</span><br><span class="line">        c1.add_stu()</span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line">    <span class="keyword">elif</span> choice == <span class="string">'2'</span>:</span><br><span class="line">        del_name = input(<span class="string">'请输入要删除学生的姓名:'</span>)</span><br><span class="line">        c1.del_stu(del_name)</span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line">    <span class="keyword">elif</span> choice == <span class="string">'3'</span>:</span><br><span class="line">        cal_name = input(<span class="string">'请输入要点学生的姓名:'</span>)</span><br><span class="line">        c1.cal_stu(cal_name)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">elif</span> choice == <span class="string">'4'</span>:</span><br><span class="line">        aver_age = c1.aver_stu_age()</span><br><span class="line">        print(aver_age)</span><br><span class="line">        <span class="keyword">continue</span></span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>

    

    
    
    
    <div>
    
    </div>
    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/21/day17-正则表达式/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="酱油壹号">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/tusun.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="四川小旋风">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2018/12/21/day17-正则表达式/" class="post-title-link" itemprop="http://yoursite.com/page/2/index.html">未命名</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2018-12-21 09:34:21 / 修改时间：09:31:35" itemprop="dateCreated datePublished" datetime="2018-12-21T09:34:21+08:00">2018-12-21</time>
            

            
              

              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>#17.1 正则基本符号</p>
<ul>
<li><p>1.什么是正则表达式</p>
<blockquote>
<p>正则表达式就是字符匹配的工具，用来做正则匹配；是由正则符号和普通字符组成，来匹配不同规律的字符串。</p>
</blockquote>
</li>
<li><p>2.python对正则表达式的支持</p>
<blockquote>
<p>python中提供了一个re模块，用来支持正则表达式。</p>
</blockquote>
</li>
</ul>
<blockquote>
<p>fullmatch(正则表达式，字符串) - 用正则表达式去完全匹配字符串，如果匹配成功返回一个结果，失败返回None。</p>
</blockquote>
<blockquote>
<p>python中的正则表达式的写法：将正则内容写在字符串中，一般这个字符串的最前面会加r或R用来阻止转义。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">import re</span><br><span class="line"></span><br><span class="line">str1 = &apos;dhsuwqy82r21r372cuefy12fgy1983r1y283781382g1f382321382r3g21&apos;</span><br><span class="line">str2 = &apos;18408266183&apos;</span><br><span class="line">str3 = &apos;zh@qq.com&apos;</span><br></pre></td></tr></table></figure></p>
</blockquote>
<blockquote>
<p>1.普通字符<br>普通字符在正则表达式中，代表字符本身。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 匹配一个字符串，第一个字符是a，第二个字符是b，第三个字符也是最后一个字符是c。</span></span><br><span class="line">re_str = <span class="string">r'abc'</span></span><br><span class="line">result = re.fullmatch(re_str, <span class="string">'abc'</span>)</span><br><span class="line">print(result)            <span class="comment"># &lt;_sre.SRE_Match object; span=(0, 3), match='abc'&gt;</span></span><br><span class="line"></span><br><span class="line">result1 = re.fullmatch(re_str, <span class="string">'abcd'</span>)</span><br><span class="line">print(result1)           <span class="comment"># None</span></span><br></pre></td></tr></table></figure></p>
</blockquote>
<blockquote>
<ol start="2">
<li>. 匹配任意字符<br>在正则表达式中，. 出现的位置可以匹配一个任意字符（char）<br>注意：一个.只能匹配一个字符<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 匹配一个长度为3的字符串。且第一个字符是a，最后一个字符是c，中间一个字符是任意一个字符。</span></span><br><span class="line">re_str = <span class="string">r'a.c'</span></span><br><span class="line">result = re.fullmatch(re_str, <span class="string">'a$c'</span>)</span><br><span class="line">print(result)           <span class="comment"># &lt;_sre.SRE_Match object; span=(0, 3), match='a%c'&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
</blockquote>
<blockquote>
<ol start="3">
<li>\w 匹配字母数字或下划线的符号<br>在正则表达式中，\w出现的位置，可以匹配一个任意的字母数字或下划线的符号（其实也可以匹配Unicode编码中除了Ascii码剩下的部分。）<br><strong>中文也能匹配</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 匹配一个长度是5的字符串，并且字符串前两位是任意的字母数字或下划线符号,后3位是任意字符</span></span><br><span class="line">re_str = <span class="string">r'\w\w...'</span></span><br><span class="line">result = re.fullmatch(re_str, <span class="string">'小白a$c'</span>)</span><br><span class="line">print(result)          <span class="comment"># &lt;_sre.SRE_Match object; span=(0, 5), match='小白a$c'&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
</blockquote>
<blockquote>
<ol start="4">
<li>\s 匹配一个空白字符<br>空白字符：包括空格、制表符、换行符（空格，\t,\r,\n）<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 匹配一个长度是4的字符串，并且前两位是字母数字下划线或中文，中间一个空白符，最后</span></span><br><span class="line"><span class="comment"># 以一个字母数字下划线或中文结尾。</span></span><br><span class="line">re_str = <span class="string">r'\w\w\s\w'</span></span><br><span class="line">result = re.fullmatch(re_str, <span class="string">'小白\ne'</span>)</span><br><span class="line">print(result)         <span class="comment"># &lt;_sre.SRE_Match object; span=(0, 4), match='小白\ne'&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
</blockquote>
<blockquote>
<ol start="5">
<li>\d 匹配数字字符<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 匹配一个长度是5的字符串，字符串的前三位是数字字符，后两位是任意字符</span></span><br><span class="line">re_str = <span class="string">r'\d\d\d..'</span></span><br><span class="line">result = re.fullmatch(re_str, <span class="string">'123小白'</span>)</span><br><span class="line">print(result)            <span class="comment"># &lt;_sre.SRE_Match object; span=(0, 5), match='123小白'&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
</blockquote>
<blockquote>
<ol start="6">
<li>\b 检测单词边界<br>注意：\b位置不会被用于匹配，只是检测该位置是否是单词边界，不会对字符进行匹配，不会记入字符串长度。当正则表达式中出现了\b，匹配时去掉\b匹配成功后再看\b出现的位置是否是单词边界。</li>
</ol>
</blockquote>
<blockquote>
<p>单词边界：字符串开头、字符串结尾、标点符号、空白符号等只要能将单词区分开的符号都属于单词边界。<br>匹配前先把\b去掉，再去匹配，匹配时再找满足条件的。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 下句既要求helloworld又要求两单词分开</span></span><br><span class="line">re_str = <span class="string">r'hello\bworld'</span>  <span class="comment"># 没有任何一个字符串能和它匹配</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">re_str1 = <span class="string">r'\bhello,\bworld'</span>  <span class="comment"># 没有任何一个字符串能和它匹配</span></span><br><span class="line">result = re.fullmatch(re_str1, <span class="string">'hello,world'</span>)</span><br><span class="line">print(result)    <span class="comment"># &lt;_sre.SRE_Match object; span=(0, 11), match='hello,world'&gt;</span></span><br></pre></td></tr></table></figure></p>
</blockquote>
<blockquote>
<ol start="7">
<li>^ 检测字符串开头<br>在math和fullmatch中没有意义，在search、findall等中有意义。<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 匹配一个字符串前3个是The，后面俩个是任意字符</span></span><br><span class="line">re_str = <span class="string">r'^The..'</span></span><br><span class="line">result = re.fullmatch(re_str, <span class="string">'The'</span>)</span><br><span class="line">print(result)</span><br></pre></td></tr></table></figure>
</li>
</ol>
</blockquote>
<blockquote>
<ol start="8">
<li>$ 检测字符串结尾<br>在math和fullmatch中没有意义，在search、findall等中有意义。<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 匹配一个字符串只要3位，分别是The，并且e后结尾。所以在这无意义</span></span><br><span class="line">re_str = <span class="string">r'^The$'</span></span><br><span class="line">result = re.fullmatch(re_str, <span class="string">'The'</span>)</span><br><span class="line">print(result)         <span class="comment"># &lt;_sre.SRE_Match object; span=(0, 3), match='The'&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
</blockquote>
<blockquote>
<ol start="9">
<li>\W 匹配一个非字母数字下划线中文的字符<br>\大写字母 对应的功能是 \小写字母 功能取反<br>\W 匹配一个非字母数字下划线中文的字符<br>\D 匹配一个非数字字符<br>\S 匹配一个非空白字符<br>\B 检测非单词边界<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 匹配一个字符串，第一个是数字，第二个非数字，第三个是空白，第四个是数字字母下划线，最后</span></span><br><span class="line"><span class="comment"># 一个是a，并且要求最后一个a前不是单词边界。</span></span><br><span class="line">re_str = <span class="string">r'\d\D\s\w\Ba'</span></span><br><span class="line">result = re.fullmatch(re_str, <span class="string">'9H\tAa'</span>)</span><br><span class="line">print(result)     <span class="comment"># &lt;_sre.SRE_Match object; span=(0, 5), match='9H\tAa'&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
</blockquote>
<blockquote>
<ol start="10">
<li>[字符集] 匹配中括号中出现的任意一个字符</li>
</ol>
</blockquote>
<blockquote>
<ol>
<li>[普通字符集] 匹配中括号中出现的任意一个字符<br>[abc] - 匹配一个字符是a或b或c</li>
</ol>
</blockquote>
<blockquote>
<blockquote>
<p>注意：<br>a.一个中括号只能匹配一个字符<br>b.正则中有特殊功能的单个符号例如：. $ ^ + * ? | 等。<br>c.匹配字符的组合符号在中括号中保持原来的功能：如\w \d \s \W \D \S<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 匹配一个长度是2的字符串，第一个字符是数字，第二个字符是b或c或d</span></span><br><span class="line">re_str = <span class="string">r'\d[bcd\d]'</span></span><br><span class="line">result = re.fullmatch(re_str, <span class="string">'22'</span>)</span><br><span class="line">print(result)      <span class="comment"># &lt;_sre.SRE_Match object; span=(0, 2), match='22'&gt;</span></span><br></pre></td></tr></table></figure></p>
</blockquote>
</blockquote>
<blockquote>
<p>2.[字符1-字符2] - 表示字符1到字符2（注意：要求字符1的编码值要小于字符2）</p>
</blockquote>
<blockquote>
<p>[a-z] - 表示匹配所有的小写字母<br>[A-Z] - 表示匹配所有的大写字母<br>[a-zA-Z] - 表示匹配所有的字母</p>
</blockquote>
<blockquote>
<p>[1-7] - 表示数字字符1到7<br>[\u4e00-\u9fa5] - 匹配所有的中文</p>
</blockquote>
<blockquote>
<p>[字符1字符2-] - 这儿的-表示减号本身<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 匹配一个长度是3的字符串，第一个字符是数字字符1到7的一个，第二个字符是a、b、c、-</span></span><br><span class="line"><span class="comment"># 中的一个，第三个是小写字母</span></span><br><span class="line">re_str = <span class="string">r'[1-7][abc-][a-z]'</span></span><br><span class="line">result = re.fullmatch(re_str, <span class="string">'3-z'</span>)</span><br><span class="line">print(result)      <span class="comment"># &lt;_sre.SRE_Match object; span=(0, 3), match='3-z'&gt;</span></span><br></pre></td></tr></table></figure></p>
</blockquote>
<blockquote>
<ol start="11">
<li>[^字符集] 匹配不在字符集中的任何一个字符，^ 要放在字符集前</li>
</ol>
</blockquote>
<blockquote>
<p>[^abc] - 匹配除了abc以外的任意一个字符<br>[^\d] - 匹配除了数字字符以外的任意一个字符<br>[^a-z] - 匹配除了小写字母以外的任意一个字符</p>
</blockquote>
<blockquote>
<p>[abc^d] - 匹配abcd或^中的任意一个字符。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">re_str = <span class="string">r'[^abc]'</span></span><br><span class="line">result = re.fullmatch(re_str, <span class="string">'3'</span>)</span><br><span class="line">print(result)      <span class="comment"># &lt;_sre.SRE_Match object; span=(0, 1), match='3'&gt;</span></span><br></pre></td></tr></table></figure></p>
</blockquote>
<p>#17.2 正则控制匹配次数<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import re</span><br></pre></td></tr></table></figure></p>
<blockquote>
<ol>
<li>* 匹配0次或多次<br>a<em> - a连续出现0次或多次；’’,’a’,’aaa’, ‘ ‘<br>\d</em> - 任意数字连续出现0次或多次。’’,’1’,’12’,’245432542354’都可以匹配<br>[abc]<em> - a或b或c连续出现0次或多次。<br>[A-F]</em> - A到F中任意字符出现0次或多次。</li>
</ol>
</blockquote>
<p><strong>注意：在[]外面的*的前面需要一个字符或者一个匹配字符的符号</strong><br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># &lt;_sre.SRE_Match object; span=(0, 10), match='aaaaaaaaab'&gt;</span></span><br><span class="line">print(re.fullmatch(<span class="string">r'a*b'</span>, <span class="string">'aaaaaaaaab'</span>))</span><br></pre></td></tr></table></figure></p>
<blockquote>
<ol start="2">
<li>+ 至少匹配1次</li>
</ol>
</blockquote>
<blockquote>
<p>a+ - a至少匹配一次<br>\d+ - 数字至少1次<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print(re.fullmatch(<span class="string">r'a+b'</span>, <span class="string">'aaab'</span>))</span><br><span class="line"><span class="comment"># &lt;_sre.SRE_Match object; span=(0, 4), match='aaab'&gt;</span></span><br></pre></td></tr></table></figure></p>
</blockquote>
<blockquote>
<ol start="3">
<li>? 出现0次或1次</li>
</ol>
</blockquote>
<blockquote>
<p>a? - a出现0次或1次，’’和’a’可以匹配<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 写一个正则匹配一个整数（正负整数都行）， 123 10 +100 -100</span></span><br><span class="line">re_str = <span class="string">r'[+-]?[1-9]\d*'</span></span><br><span class="line">print(re.fullmatch(re_str, <span class="string">'-100'</span>))</span><br></pre></td></tr></table></figure></p>
</blockquote>
<blockquote>
<ol start="4">
<li>{}</li>
</ol>
</blockquote>
<blockquote>
<p>{N} - 匹配N次，如a{3} - 匹配3个’a‘<br>{M，N} - 匹配M到N次，如a{3，5} - ‘aaa’  ‘aaaa’  ‘aaaaa’<br>{,N} - 最多匹配N次，即0到N次。如a{,3} - ‘’,’a’,’aa’,’aaa’<br>{M,} - 至少匹配M次，如a{3,} - ‘aaa’,’aaaa’…<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">print(re.fullmatch(r&apos;a&#123;,3&#125;&apos;, &apos; &apos;))</span><br><span class="line"></span><br><span class="line"># 密码由字母数字组成数字不开头，6-12位，给出提示</span><br><span class="line">password = input(&apos;密码：&apos;)</span><br><span class="line">re_str = r&apos;[a-zA-Z]&#123;1&#125;[a-zA-Z0-9]&#123;5, 11&#125;&apos;</span><br><span class="line">re_str = r&apos;[a-zA-Z][a-zA-Z0-9]&#123;5, 11&#125;&apos;</span><br><span class="line">if not re.fullmatch(re_str, password):</span><br><span class="line">    print(&apos;错误。&apos;)</span><br></pre></td></tr></table></figure></p>
</blockquote>
<p>#17.3 分支、捕获和贪婪<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>1.分支<br>条件1 | 条件2 - 匹配条件1或者条件2<br>\d{2} | [a-z] - 匹配俩个数字字符，或者一个小写字母<br>a\d{2}|\w{2} - 匹配1个a后面2个数字，或者两个数字字母下划线。</p>
</blockquote>
<p><strong>注意：正则中分支也会短路，当条件1可以匹配，就不会再使用条件2匹配</strong><br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># &lt;_sre.SRE_Match object; span=(0, 2), match='33'&gt;</span></span><br><span class="line">print(re.fullmatch(<span class="string">r'\d&#123;2&#125;|[a-z]'</span>, <span class="string">'33'</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># &lt;_sre.SRE_Match object; span=(0, 1), match='a'&gt;</span></span><br><span class="line">print(re.fullmatch(<span class="string">r'\d&#123;2&#125;|[a-z]'</span>, <span class="string">'a'</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># &lt;_sre.SRE_Match object; span=(0, 3), match='a33'&gt;</span></span><br><span class="line">print(re.fullmatch(<span class="string">r'a\d&#123;2&#125;|\w&#123;2&#125;'</span>, <span class="string">'a33'</span>))</span><br><span class="line"><span class="comment"># &lt;_sre.SRE_Match object; span=(0, 2), match='a3'&gt;</span></span><br><span class="line">print(re.fullmatch(<span class="string">r'a\d&#123;2&#125;|\w&#123;2&#125;'</span>, <span class="string">'a3'</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 匹配所有的数字 100 -100 12.5 -12.5 0 0.012</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">12,12.34</span></span><br><span class="line"><span class="string">0.123</span></span><br><span class="line"><span class="string">0</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line">re_str = <span class="string">r'[+-]?[1-9][0-9]*|[+-]?[0-9]*[.][0-9]*|0'</span></span><br><span class="line"><span class="comment"># re_str = r'[+-]?[1-9][0-9]*[.]?\d*|[+-]?0[.]?[0-9]+|0'  老师</span></span><br><span class="line">print(re.fullmatch(re_str, <span class="string">'-12.5'</span>))</span><br><span class="line">print(re.fullmatch(re_str, <span class="string">'-0.5989'</span>))</span><br><span class="line">print(re.fullmatch(re_str, <span class="string">'0123'</span>))</span><br><span class="line">print(re.fullmatch(re_str, <span class="string">'123'</span>))</span><br><span class="line">print(re.fullmatch(re_str, <span class="string">'+123'</span>))</span><br><span class="line">print(re.fullmatch(re_str, <span class="string">'0.012'</span>))</span><br><span class="line">print(re.fullmatch(re_str, <span class="string">'+0.012'</span>))</span><br><span class="line">print(re.fullmatch(re_str, <span class="string">'-0.012'</span>))</span><br><span class="line">print(re.fullmatch(re_str, <span class="string">'0'</span>))</span><br><span class="line">print(re.fullmatch(re_str, <span class="string">'-0.3'</span>))</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>2.捕获和分组</p>
</blockquote>
<blockquote>
<p>a.分组 - 将括号中的内容作为一个整体<br>r’abc\d{3}|abc[A-Z]{3}’ = r’abc(\d{3}|[A-Z]{3})’<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 匹配一个字符串，前3位是abc，后3位是数字或者大写字母</span></span><br><span class="line"><span class="comment"># r'abc\d&#123;3&#125;|abc[A-Z]&#123;3&#125;' = r'abc(\d&#123;3&#125;|[A-Z]&#123;3&#125;)'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 匹配一个字符串，以‘数字小写字母’的形式出现3次</span></span><br><span class="line">re_str = <span class="string">r'(\d[a-z])&#123;3&#125;'</span></span><br><span class="line"><span class="comment"># &lt;_sre.SRE_Match object; span=(0, 6), match='1a2s3d'&gt;</span></span><br><span class="line">print(re.fullmatch(re_str, <span class="string">'1a2s3d'</span>))</span><br></pre></td></tr></table></figure></p>
</blockquote>
<blockquote>
<p>b.捕获<br>通过正则获取符合条件的子串时，可以在正则表达式中加括号，匹配后只获取括号里面匹配到的内容。例1：<br>re.findall(正则表达式，字符串) - 在字符串中去获取符合正则表达式条件的所有子串，返回一个列表。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">str1 = <span class="string">'32e23i1hr32hru392r3hu21re3u21hre32h1iufe3h2r'</span></span><br><span class="line"><span class="comment"># ['32', '23', '1', '32', '392', '3', '21', '3', '21', '32', '1', '3', '2']</span></span><br><span class="line">print(re.findall(<span class="string">r'\d+'</span>, str1))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 例1：</span></span><br><span class="line"><span class="comment"># ['e23', 'e3', 'e32', 'e3']</span></span><br><span class="line">print(re.findall(<span class="string">r'e\d+'</span>, str1))</span><br><span class="line"><span class="comment"># ['23', '3', '32', '3']</span></span><br><span class="line">print(re.findall(<span class="string">r'e(\d+)'</span>, str1))</span><br></pre></td></tr></table></figure></p>
</blockquote>
<blockquote>
<p>c.重复匹配<br>写一个带多个分组的正则表达式，可以在分组后面通过添加 \数字 来重复前面第几个分组中匹配到的内容。</p>
</blockquote>
<p><strong>说明：\数字 - 这里的数字代表前面第几个分组；\1代表第一个分组，\2代表第2个组</strong><br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">re_str = <span class="string">r'\d&#123;3&#125;([a-z]&#123;2&#125;)a\1'</span></span><br><span class="line"><span class="comment"># &lt;_sre.SRE_Match object; span=(0, 8), match='222sdasd'&gt;</span></span><br><span class="line">print(re.fullmatch(re_str, <span class="string">'222sdasd'</span>))</span><br><span class="line"></span><br><span class="line">re_str = <span class="string">r'(\d&#123;3&#125;)([a-z]&#123;2&#125;)a\1\2'</span></span><br><span class="line">print(re.fullmatch(re_str, <span class="string">'222sda222sd'</span>))</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>3.贪婪<br>匹配次数后加？就是贪婪匹配：*? +? ?? {M,N}? {M,}? 表示尽可能少的重复<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">re_str = <span class="string">r'a.+b'</span></span><br><span class="line">str1 = <span class="string">'xxxahdjbnnkbsssammmb'</span></span><br><span class="line">print(re.findall(re_str, str1))  <span class="comment"># ['ahdjbnnkbsssammmb']</span></span><br><span class="line"></span><br><span class="line">re_str = <span class="string">r'a.+?b'</span></span><br><span class="line">print(re.findall(re_str, str1))  <span class="comment"># ['ahdjb', 'ammmb']</span></span><br></pre></td></tr></table></figure></p>
</blockquote>
<blockquote>
<ol start="4">
<li>转义字符<br>在正则表达式中可以在有特殊意义或者特殊功能的符号前加\来取消其特殊功能<br>\w - 代表两个字符分别为反斜杠和w<br>+ - 代表加号字符<br>* - 代表*<br>\? - 代表?<br>() - 表示（），类推[]及{}</li>
</ol>
</blockquote>
<p><strong>注意：<br>在中括号中，\必须加\表示反斜杠本身。<br>\^在最前面时，必须加\表示^本身<br>-在两个字符之间并在中括号里面时，必须加\表示-本身</strong><br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">re_str = <span class="string">r'\w-\d&#123;3&#125;'</span></span><br></pre></td></tr></table></figure></p>
<p>#17.4 re模块<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>1.compile<br>compile(正则表达式) - 将正则表达式转换成正则表达式对象<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">re_str = r&apos;\d&#123;3&#125;&apos;</span><br><span class="line">re_obj = re.compile(re_str)</span><br><span class="line"></span><br><span class="line"># 调用模块中函数</span><br><span class="line">print(re.fullmatch(re_str, &apos;338&apos;))</span><br><span class="line"></span><br><span class="line"># 调用对象方法</span><br><span class="line">print(re_obj.fullmatch(&apos;338&apos;))</span><br></pre></td></tr></table></figure></p>
</blockquote>
<blockquote>
<p>2.match和fullmatch</p>
</blockquote>
<blockquote>
<p>a.fullmattch(正则表达式，字符串) - 完全匹配，从字符串开头一直到结尾<br>b.mattch(正则表达式，字符串) - 不完全匹配，只匹配字符串开头。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">re_str = <span class="string">r'\d[A-Z]&#123;2&#125;'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 完全匹配 &lt;_sre.SRE_Match object; span=(0, 3), match='6AD'&gt;</span></span><br><span class="line">print(re.fullmatch(re_str, <span class="string">'6AD'</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 不完全匹配 &lt;_sre.SRE_Match object; span=(0, 3), match='6AD'&gt;</span></span><br><span class="line">print(re.match(re_str, <span class="string">'6AD2签位尔特3ytuytjytj'</span>))</span><br></pre></td></tr></table></figure></p>
</blockquote>
<blockquote>
<p>匹配对象<br>1.获取span - 匹配到内容在字符串中的范围（开始下标，结束下标），结束下标取不到<br>匹配对象.span() - 获取整个正则表达式匹配到的范围<br>匹配对象.span(n) - 获取正则表达式中第n个分组匹配到的范围，前提是有分组。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># (0, 3)</span></span><br><span class="line">print(re.match(re_str, <span class="string">'6AD2签位尔特3ytuytjytj'</span>).span())</span><br><span class="line"></span><br><span class="line"><span class="comment"># (0, 1)</span></span><br><span class="line">print(re.match(<span class="string">r'(\d)[A-Z]&#123;2&#125;'</span>, <span class="string">'6AD2签位尔特3ytuytjytj'</span>).span(<span class="number">1</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># (1,3)</span></span><br><span class="line">print(re.match(<span class="string">r'(\d)([A-Z]&#123;2&#125;)'</span>, <span class="string">'6AD2签位尔特3ytuytjytj'</span>).span(<span class="number">2</span>))</span><br></pre></td></tr></table></figure></p>
</blockquote>
<blockquote>
<p>2.start和end - 获取匹配结果的开始下标和结束下标。<br>匹配对象.start()/匹配对象.end() - 获取整个正则表达式匹配到的的开始下标和结束下标。<br>匹配对象.start(n)/匹配对象.end(n) - 获取整个正则表达式第n个分组，匹配到的的开始下标和结束下标。</p>
</blockquote>
<blockquote>
<p>3.group - 获取匹配到的内容<br>匹配对象.group() - 获取整个正则表达式匹配到的内容<br>匹配对象.group(n) - 获取正则表达式第n个分组匹配到的内容</p>
</blockquote>
<blockquote>
<p>4.string - 获取用来匹配的原字符串<br>匹配对象.string()</p>
</blockquote>
<blockquote>
<p>3.search<br>search(正则表达式，字符串) - 匹配字符串中第一个满足正则表达式的子串，如果匹配成功，返回匹配对象，否则返回None<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">str1 = <span class="string">r'abc123hkcajsa121df'</span></span><br><span class="line">result = re.search(<span class="string">r'\d&#123;3&#125;[a-z]&#123;2&#125;'</span>, str1)</span><br><span class="line">print(result)  <span class="comment"># &lt;_sre.SRE_Match object; span=(3, 8), match='123hk'&gt;</span></span><br></pre></td></tr></table></figure></p>
</blockquote>
<blockquote>
<p>4.spilt<br>split(正则表达式，字符串) - 在字符串中按照满足正则表达式条件的子串对字符串进行切割。返回一个列表<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">str1 = <span class="string">'ab+c7wewfwefewff79wfqe9fwq9qw0e*f'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ['ab+c', 'wewfwefewff', 'wfqe', 'fwq', 'qw', 'e*f']</span></span><br><span class="line">print(re.split(<span class="string">r'\d+'</span>, str1))</span><br><span class="line"></span><br><span class="line"><span class="comment"># ['ab', 'c', 'wewfwefewff', 'wfqe', 'fwq', 'qw', 'e', 'f']</span></span><br><span class="line">print(re.split(<span class="string">r'\d+|[+*-]+'</span>, str1))</span><br></pre></td></tr></table></figure></p>
</blockquote>
<blockquote>
<p>5.sub<br>sub(正则表达式，新子串，字符串) - 用新子串替换字符串中满足正则表达式的子串，返回一个替换后的字符串<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">str1 = <span class="string">'i32h1e32jirh32iu1ej321eji'</span></span><br><span class="line">print(re.sub(<span class="string">r'\d+'</span>, <span class="string">'$'</span>, str1))  <span class="comment"># i$h$e$jirh$iu$ej$eji</span></span><br></pre></td></tr></table></figure></p>
</blockquote>
<blockquote>
<p>6.findall<br>findall(正则表达式，字符串) - 在字符串中获取满足正则表达式的所有的字符，返回一个列表，列表元素就是字符串。</p>
</blockquote>
<p>注意：如果此处正则表达式中有一个分组，结果是列表中只取括号中匹配到的字符串，如果分组大于1，结果是一个列表，列表元素是元组，元组中元素为每个括号中匹配到的字符串。（先匹配整个再取括号中内容！）<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">str1 = <span class="string">'sdad434w2rsdvsvds34==='</span></span><br><span class="line">print(re.findall(<span class="string">r'\d+'</span>, str1))  <span class="comment"># ['434', '2', '34']</span></span><br><span class="line"></span><br><span class="line">str1 = <span class="string">'sdad434w2rsdvsvds34==='</span></span><br><span class="line">print(re.findall(<span class="string">r'(\d+)(\w)'</span>, str1))  </span><br><span class="line"><span class="comment"># [('434', 'w'), ('2', 'r'), ('3', '4')]</span></span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>7.finditer<br>finditer(正则表达式，字符串) - 在字符串中获取满足正则表达式的内容，返回一个迭代器，迭代器元素是匹配对象。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">str1 = <span class="string">'sdad434w2rsdvsvds34==='</span></span><br><span class="line">print(re.finditer(<span class="string">r'\d+'</span>, str1))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 写一个自己的finditer</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_finditer</span><span class="params">(pattern, string)</span>:</span></span><br><span class="line">    re1 = re.search(pattern, string)</span><br><span class="line">    <span class="keyword">while</span> re1:</span><br><span class="line">        <span class="keyword">yield</span> re1</span><br><span class="line">        string = string[re1.end():]</span><br><span class="line">        <span class="comment"># 考虑对正则取反（think）</span></span><br><span class="line">        re1 = re.search(pattern, string)</span><br></pre></td></tr></table></figure></p>
</blockquote>

          
        
      
    </div>

    

    
    
    
    <div>
    
    </div>
    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/21/学生管理系统1-0/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="酱油壹号">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/tusun.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="四川小旋风">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2018/12/21/学生管理系统1-0/" class="post-title-link" itemprop="http://yoursite.com/page/2/index.html">未命名</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2018-12-21 09:34:21 / 修改时间：09:31:35" itemprop="dateCreated datePublished" datetime="2018-12-21T09:34:21+08:00">2018-12-21</time>
            

            
              

              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">huan_ying</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="string">'''输出界面'''</span></span><br><span class="line">    print(<span class="string">'='</span> * <span class="number">88</span>, <span class="string">'\n❀❀欢迎来到LOL小学生管理系统：\n'</span>)</span><br><span class="line">    dict1 = &#123;<span class="string">'      💗 1.'</span>: <span class="string">'添加学生'</span>, <span class="string">'      💗 2.'</span>: <span class="string">'查看学生'</span>,</span><br><span class="line">             <span class="string">'      💗 3.'</span>: <span class="string">'修改学生信息'</span>, <span class="string">'      💗 4.'</span>: <span class="string">'删除学生'</span>,</span><br><span class="line">             <span class="string">'      💗 5.'</span>: <span class="string">'返回'</span>, <span class="string">'      💗 6.'</span>: <span class="string">'退出'</span>&#125;</span><br><span class="line">    <span class="keyword">for</span> key <span class="keyword">in</span> dict1:</span><br><span class="line">        print(key, dict1[key])</span><br><span class="line">    print(<span class="string">'='</span> * <span class="number">88</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 5 是否多余</span></span><br><span class="line"><span class="comment"># 学生信息--字典</span></span><br><span class="line"><span class="comment"># 学生信息修改--字典增加、查找、修改</span></span><br><span class="line"><span class="comment"># 多个学生的信息--列表 zong_biao</span></span><br><span class="line"><span class="comment"># 列表增加、查找、修改</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">cha_zhao</span><span class="params">(n, str1)</span>:</span></span><br><span class="line">    <span class="string">"""在学生总表中查找包含&#123;key：str1， value：n&#125;的学生，有则返回该学生字典</span></span><br><span class="line"><span class="string">    对应的下标，没有则返回-1"""</span></span><br><span class="line">    <span class="keyword">for</span> index <span class="keyword">in</span> range(len(zong_biao)):</span><br><span class="line">        <span class="keyword">if</span> n == zong_biao[index][str1]:  <span class="comment"># 找到相应位置</span></span><br><span class="line">            <span class="keyword">return</span> index</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">san_chu</span><span class="params">(n, str1)</span>:</span></span><br><span class="line">    <span class="string">"""在学生总表中删除包含&#123;key：str1， value：n&#125;的学生"""</span></span><br><span class="line">    index = <span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> index &lt; len(zong_biao):</span><br><span class="line">        <span class="keyword">if</span> n == zong_biao[index][str1]:  <span class="comment"># 找到相应位置</span></span><br><span class="line">            zong_biao.pop(index)</span><br><span class="line">            print(<span class="string">'删除成功！'</span>)</span><br><span class="line">            print(<span class="string">'='</span> * <span class="number">20</span>)</span><br><span class="line">            index -= <span class="number">1</span></span><br><span class="line">        index += <span class="number">1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">xiu_gai</span><span class="params">(index, n2, str1)</span>:</span></span><br><span class="line">    <span class="string">"""在学生总表中找到下标为index的学生字典，并将key为str1的值改为n2"""</span></span><br><span class="line">    zong_biao[index][str1] = n2</span><br><span class="line">    print(<span class="string">"修改成功!修改后的信息为："</span>)</span><br><span class="line">    print(<span class="string">'='</span> * <span class="number">20</span>)</span><br><span class="line">    <span class="keyword">for</span> key <span class="keyword">in</span> zong_biao[index]:</span><br><span class="line">        print(key + <span class="string">':'</span> + zong_biao[index][key])</span><br><span class="line">    print(<span class="string">'='</span> * <span class="number">20</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">da_yin</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="string">"""打印所有学生信息"""</span></span><br><span class="line">    <span class="keyword">for</span> index <span class="keyword">in</span> range(len(zong_biao)):</span><br><span class="line">        <span class="keyword">for</span> key <span class="keyword">in</span> zong_biao[index]:</span><br><span class="line">            print(key + <span class="string">':'</span> + zong_biao[index][key], end=<span class="string">' '</span>)  <span class="comment"># 空格隔开</span></span><br><span class="line">        print()  <span class="comment"># 每输出一个换行</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">cha_kan</span><span class="params">(n, str1)</span>:</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(zong_biao)):</span><br><span class="line">        <span class="keyword">if</span> n == zong_biao[i][str1]:  <span class="comment"># 找到相应位置</span></span><br><span class="line">            print(<span class="string">'该学生信息如下： '</span>)</span><br><span class="line">            print(<span class="string">'='</span> * <span class="number">20</span>)</span><br><span class="line">            <span class="keyword">for</span> key <span class="keyword">in</span> zong_biao[i]:</span><br><span class="line">                print(key + <span class="string">':'</span> + zong_biao[i][key])  <span class="comment"># 空格隔开</span></span><br><span class="line">            print(<span class="string">'='</span> * <span class="number">20</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">zong_biao = []</span><br><span class="line">bool1 = <span class="keyword">True</span></span><br><span class="line"><span class="keyword">while</span> bool1:</span><br><span class="line">    da_yin()</span><br><span class="line">    huan_ying()</span><br><span class="line">    xuan_ze = input(<span class="string">'请选择（1-5）：'</span>)</span><br><span class="line">    <span class="keyword">if</span> xuan_ze == <span class="string">'1'</span>:</span><br><span class="line">        i = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> <span class="number">1</span>:</span><br><span class="line">            dict0 = &#123;&#125;</span><br><span class="line">            value = input(<span class="string">'请输入学生学号：'</span>)</span><br><span class="line">            dict0[<span class="string">'学号'</span>] = value</span><br><span class="line">            value = input(<span class="string">'请输入学生姓名：'</span>)</span><br><span class="line">            dict0[<span class="string">'姓名'</span>] = value</span><br><span class="line">            value = input(<span class="string">'请输入学生年龄：'</span>)</span><br><span class="line">            dict0[<span class="string">'年龄'</span>] = value</span><br><span class="line">            value = input(<span class="string">'请输入学生电话：'</span>)</span><br><span class="line">            dict0[<span class="string">'电话'</span>] = value</span><br><span class="line">            zong_biao.append(dict0)  <span class="comment"># 防止越界，扩展列表长度</span></span><br><span class="line">            zong_biao[i] = dict0  <span class="comment"># 防止被覆盖</span></span><br><span class="line">            i += <span class="number">1</span></span><br><span class="line">            print(<span class="string">'添加成功！\n1. 继续\n2. 返回\n请选择(1-2):'</span>)</span><br><span class="line">            n = input()</span><br><span class="line">            <span class="keyword">if</span> n == <span class="string">'1'</span>:</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            <span class="keyword">elif</span> n == <span class="string">'2'</span>:</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                print(<span class="string">'请输入1-2内的数字。'</span>)</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            <span class="comment"># print(zong_biao)</span></span><br><span class="line">    <span class="keyword">elif</span> xuan_ze == <span class="string">'2'</span>:</span><br><span class="line">        <span class="keyword">while</span> <span class="number">1</span>:</span><br><span class="line">            print(<span class="string">'1.查看所有学生\n2.按姓名查找\n'</span></span><br><span class="line">                  <span class="string">'3.按学号查找\n4.返回\n请选择(1-4):'</span>)</span><br><span class="line">            n = input()</span><br><span class="line">            <span class="keyword">if</span> n == <span class="string">'1'</span>:</span><br><span class="line">                print(<span class="string">'所有学生信息如下：'</span>)</span><br><span class="line">                print(<span class="string">'='</span> * <span class="number">20</span>)</span><br><span class="line">                da_yin()</span><br><span class="line">                print(<span class="string">'='</span> * <span class="number">20</span>)</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            <span class="keyword">elif</span> n == <span class="string">'2'</span>:</span><br><span class="line">                n = input(<span class="string">'请输入要查找的学生姓名：'</span>)</span><br><span class="line">                str1 = <span class="string">'姓名'</span></span><br><span class="line">                value = cha_zhao(n, str1)</span><br><span class="line">                <span class="keyword">if</span> value != <span class="number">-1</span>:</span><br><span class="line">                    cha_kan(n, str1)  <span class="comment"># 注意自变量</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    print(<span class="string">'查无此人！请核对输入信息！！'</span>)</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            <span class="keyword">elif</span> n == <span class="string">'3'</span>:</span><br><span class="line">                n = input(<span class="string">'请输入要查找的学生的学号：'</span>)</span><br><span class="line">                str1 = <span class="string">'学号'</span></span><br><span class="line">                value = cha_zhao(n, str1)</span><br><span class="line">                <span class="keyword">if</span> value != <span class="number">-1</span>:</span><br><span class="line">                    cha_kan(n, str1)  <span class="comment"># 注意自变量</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    print(<span class="string">'查无此人！请核对输入信息！！'</span>)</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            <span class="keyword">elif</span> n == <span class="string">'4'</span>:</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                print(<span class="string">'请输入1-4内的数字。'</span>)</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">    <span class="keyword">elif</span> xuan_ze == <span class="string">'3'</span>:</span><br><span class="line">        bool2 = <span class="keyword">True</span></span><br><span class="line">        <span class="keyword">while</span> bool2:</span><br><span class="line">            n1 = input(<span class="string">'请输入要修改学生的学号：'</span>)  <span class="comment"># 学号只有一个</span></span><br><span class="line">            value = cha_zhao(n1, <span class="string">'学号'</span>)</span><br><span class="line">            <span class="keyword">if</span> value != <span class="number">-1</span>:</span><br><span class="line">                i = cha_zhao(n1, <span class="string">'学号'</span>)  <span class="comment"># 找出需要修改的字典</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                print(<span class="string">'查无此人！请核对输入信息！！'</span>)</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            <span class="keyword">while</span> <span class="number">1</span>:</span><br><span class="line">                n = input(<span class="string">'请选择要修改的信息：\n'</span></span><br><span class="line">                          <span class="string">'1.修改学号\n2.修改姓名\n'</span></span><br><span class="line">                          <span class="string">'3.修改年龄\n4.修改电话\n'</span></span><br><span class="line">                          <span class="string">'5.修改下一个学生\n6.退出修改\n请选择（1-6）:'</span>)</span><br><span class="line">                <span class="keyword">if</span> n == <span class="string">'1'</span>:</span><br><span class="line">                    n2 = input(<span class="string">'请输入修改后的学号：'</span>)</span><br><span class="line">                    str1 = <span class="string">'学号'</span></span><br><span class="line">                    xiu_gai(i, n2, str1)</span><br><span class="line">                    <span class="keyword">continue</span></span><br><span class="line">                <span class="keyword">elif</span> n == <span class="string">'2'</span>:</span><br><span class="line">                    n2 = input(<span class="string">'请输入修改后的姓名：'</span>)</span><br><span class="line">                    str1 = <span class="string">'姓名'</span></span><br><span class="line">                    xiu_gai(i, n2, str1)</span><br><span class="line">                    <span class="keyword">continue</span></span><br><span class="line">                <span class="keyword">elif</span> n == <span class="string">'3'</span>:</span><br><span class="line">                    n2 = input(<span class="string">'请输入修改后的年龄：'</span>)</span><br><span class="line">                    str1 = <span class="string">'年龄'</span></span><br><span class="line">                    xiu_gai(i, n2, str1)</span><br><span class="line">                    <span class="keyword">continue</span></span><br><span class="line">                <span class="keyword">elif</span> n == <span class="string">'4'</span>:</span><br><span class="line">                    n2 = input(<span class="string">'请输入修改后的电话：'</span>)</span><br><span class="line">                    str1 = <span class="string">'电话'</span></span><br><span class="line">                    xiu_gai(i, n2, str1)</span><br><span class="line">                    <span class="keyword">continue</span></span><br><span class="line">                <span class="keyword">elif</span> n == <span class="string">'5'</span>:</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">                <span class="keyword">elif</span> n == <span class="string">'6'</span>:</span><br><span class="line">                    bool2 = <span class="keyword">False</span></span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    print(<span class="string">'请输入1-6内的数字。'</span>)</span><br><span class="line">                    <span class="keyword">continue</span></span><br><span class="line">    <span class="keyword">elif</span> xuan_ze == <span class="string">'4'</span>:</span><br><span class="line">        <span class="keyword">while</span> <span class="number">1</span>:</span><br><span class="line">            n = input((<span class="string">'1.按学号删除\n2.按姓名删除\n3.返回\n请选择（1-3）：'</span>))</span><br><span class="line">            <span class="keyword">if</span> n == <span class="string">'1'</span>:</span><br><span class="line">                n = input(<span class="string">'请输入要删除学生的学号：'</span>)  <span class="comment"># 学号只有一个</span></span><br><span class="line">                str1 = <span class="string">'学号'</span></span><br><span class="line">                value = cha_zhao(n, str1)</span><br><span class="line">                <span class="keyword">if</span> value != <span class="number">-1</span>:</span><br><span class="line">                    san_chu(n, str1)</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    print(<span class="string">'查无此人！请核对输入信息！！'</span>)</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            <span class="keyword">elif</span> n == <span class="string">'2'</span>:</span><br><span class="line">                n = input(<span class="string">'请输入要删除学生的姓名：'</span>)</span><br><span class="line">                str1 = <span class="string">'姓名'</span></span><br><span class="line">                value = cha_zhao(n, str1)</span><br><span class="line">                <span class="keyword">if</span> value != <span class="number">-1</span>:</span><br><span class="line">                    san_chu(n, str1)</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    print(<span class="string">'查无此人！请核对输入信息！！'</span>)</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            <span class="keyword">elif</span> n == <span class="string">'3'</span>:</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                print(<span class="string">'请输入1-2内的数字。'</span>)</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">    <span class="keyword">elif</span> xuan_ze == <span class="string">'5'</span>:</span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line">    <span class="keyword">elif</span> xuan_ze == <span class="string">'6'</span>:</span><br><span class="line">        print(<span class="string">'谢谢使用，欢迎下次再来！'</span>)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        print(<span class="string">'请输入1-5内的数字。'</span>)</span><br><span class="line">        <span class="keyword">continue</span></span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    

    
    
    
    <div>
    
    </div>
    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/21/day14-作业/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="酱油壹号">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/tusun.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="四川小旋风">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2018/12/21/day14-作业/" class="post-title-link" itemprop="http://yoursite.com/page/2/index.html">未命名</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2018-12-21 09:34:21 / 修改时间：09:31:35" itemprop="dateCreated datePublished" datetime="2018-12-21T09:34:21+08:00">2018-12-21</time>
            

            
              

              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>0.定义一个学生类。有属性：姓名、年龄、成绩（语文，数学，英语)[每课成绩的类型为整数]方法： a. 获取学生的姓名：getname() b. 获取学生的年龄：getage()c. 返回3门科目中最高的分数。get_course()<br>程序：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name, age, *score)</span>:</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.age = age</span><br><span class="line">        self.languages_score, self.math_score, self.english_score = score</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_name</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">'该学生姓名为：'</span>,self.name)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_age</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">'%s的年龄为：%d'</span> % (self.name, self.age))</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_course</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> max(self.languages_score, self.math_score, self.english_score)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">s1 = Student(<span class="string">'小王'</span>, <span class="number">88</span>, <span class="number">57</span>, <span class="number">58</span>, <span class="number">99</span>)</span><br><span class="line"></span><br><span class="line">s1.get_name()                         <span class="comment"># 该学生姓名为： 小王</span></span><br><span class="line">s1.get_age()                           <span class="comment"># 小王的年龄为：88</span></span><br><span class="line">print(<span class="string">'最高分数为：'</span>, s1.get_course())    <span class="comment"># 最高分数为： 99</span></span><br></pre></td></tr></table></figure></p>
<p>1.建立一个汽车类Auto，包括轮胎个数，汽车颜色，车身重量，速度等成员变量，并通过不同的构造方法创建实例。至少要求 汽车能够加速 减速 停车。 再定义一个小汽车类CarAuto 继承Auto 并添加空调、CD等成员变量 覆盖加速 减速的方法<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Auto</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, wheel_num, color, weight, speed)</span>:</span></span><br><span class="line">        self.wheel_num = wheel_num</span><br><span class="line">        self.color = color</span><br><span class="line">        self.weight = weight</span><br><span class="line">        self.speed = speed</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">up_speed</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">'加速'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">down_speed</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">'减速'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">stop</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">'停车'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CarAuto</span><span class="params">(Auto)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, wheel_num, color, weight, speed, air_conditioner, cd)</span>:</span></span><br><span class="line">        super(CarAuto, self).__init__(wheel_num, color, weight, speed)</span><br><span class="line">        self.air_conditioner = air_conditioner</span><br><span class="line">        self.cd = cd</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">up_speed</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">'超级加速'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">down_speed</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">'缓慢减速'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">stop</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">'停车'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">c1 = Auto(<span class="number">8</span>, <span class="string">'黄色'</span>, <span class="string">'10t'</span>, <span class="string">'98km/h'</span>)</span><br><span class="line">ca1 = CarAuto(<span class="number">4</span>, <span class="string">'黑色'</span>, <span class="string">'4t'</span>, <span class="string">'198km/h'</span>, <span class="string">'格力'</span>, <span class="string">'热情的沙漠'</span>)</span><br><span class="line"></span><br><span class="line">ca1.up_speed()         <span class="comment"># 超级加速</span></span><br><span class="line">ca1.down_speed()       <span class="comment"># 缓慢减速</span></span><br><span class="line">ca1.stop()             <span class="comment"># 停车</span></span><br><span class="line">print(ca1.cd)          <span class="comment"># 热情的沙漠</span></span><br></pre></td></tr></table></figure></p>
<p>2.创建一个名为User 的类，其中包含属性firstname 和lastname ，还有用户简介通常会存储的其他几个属性。在类User 中定义一个名 为describeuser() 的方法，它打印用户信息摘要;再定义一个名为greetuser() 的方法，它向用户发出个性化的问候。<br>管理员是一种特殊的用户。编写一个名为Admin 的类，让它继承User类。添加一个名为privileges 的属性，用于存储一个由字符串(如”can add post”、”can delete post”、”can ban user”等)组成的列表。编写一个名为show_privileges()的方法，它显示管理员的权限。创建一个Admin 实例，并调用这个方法。<br>程序：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, last_name, first_name=<span class="string">'first'</span>)</span>:</span></span><br><span class="line">        self.first_name = first_name</span><br><span class="line">        self.last_name = last_name</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">describe_user</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(self.__dict__)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">greet_user</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">'欢迎%s登录本系统。'</span> % self.last_name)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Admin</span><span class="params">(User)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, last_name, privileges=None)</span>:</span></span><br><span class="line">        super().__init__(last_name)</span><br><span class="line">        <span class="keyword">if</span> privileges <span class="keyword">is</span> <span class="keyword">None</span>:</span><br><span class="line">            privileges = [<span class="string">'can add post'</span>, <span class="string">'can delete \</span></span><br><span class="line"><span class="string">post'</span>, <span class="string">'can ban user'</span>]</span><br><span class="line">        self.privileges = privileges</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">show_privileges</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">for</span> item <span class="keyword">in</span> self.privileges:</span><br><span class="line">            print(self.last_name + <span class="string">'you'</span>, item)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">a1 = Admin(<span class="string">'老王'</span>)</span><br><span class="line">a1.greet_user()</span><br><span class="line"><span class="comment"># a1.describe_user()</span></span><br><span class="line">a1.show_privileges()</span><br></pre></td></tr></table></figure></p>
<p>结果：<br><img src="https://upload-images.jianshu.io/upload_images/14827706-579b9fcbf365979a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="运行结果"></p>
<p>3.创建一个Person类，添加一个类字段用来统计Perosn类的对象的个数<br>程序：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>:</span></span><br><span class="line">    object_counts = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.name = <span class="string">'老王'</span></span><br><span class="line">        Person.object_counts += <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">objects</span><span class="params">(cls)</span>:</span></span><br><span class="line">        print(<span class="string">'创建了%s类的%d个对象'</span> % (cls.__name__, cls.object_counts))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">p1 = Person()</span><br><span class="line">p1 = Person()</span><br><span class="line">p1 = Person()</span><br><span class="line">p1 = Person()</span><br><span class="line"></span><br><span class="line">Person.objects()</span><br></pre></td></tr></table></figure></p>
<p>结果：<br><img src="https://upload-images.jianshu.io/upload_images/14827706-a924cda031e00c19.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="运行结果"></p>
<p>(尝试)5.写一个类，其功能是：1.解析指定的歌词文件的内容 2.按时间显示歌词 提示：歌词文件的内容一般是按下面的格式进行存储的。歌词前面对应的是时间，在对应的时间点可以显示对应的歌词</p>
<p>[00:00.20]蓝莲花<br> [00:00.80]没有什么能够阻挡<br>[00:06.53]你对自由地向往<br> [00:11.59]天马行空的生涯<br>[00:16.53]你的心了无牵挂<br>[02:11.27][00:21.95]穿过幽暗地岁月<br>[02:16.51][00:26.83]也曾感到彷徨<br>[02:21.81][00:32.30]当你低头地瞬间<br>[02:26.79][00:37.16]才发觉脚下的路<br>[02:32.17]心中那自由地世界<br>[02:37.20]如此的清澈高远<br>[02:42.32]盛开着永不凋零<br>[02:47.83]蓝莲花</p>
<p>100s -<br>程序：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">class Music:</span><br><span class="line">    def __init__(self, files: str):</span><br><span class="line">        self.files = files</span><br><span class="line"></span><br><span class="line">    def __get_list(self):</span><br><span class="line">        with open(self.files, &apos;r&apos;, encoding=&apos;utf-8&apos;) as f:</span><br><span class="line">            list1 = f.readlines()</span><br><span class="line">        list5 = []</span><br><span class="line">        for index in range(len(list1)):</span><br><span class="line">            list4 = []</span><br><span class="line">            list2 = list1[index].split(&apos;]&apos;)</span><br><span class="line">            for index1 in range(len(list2)):</span><br><span class="line">                list3 = list2[index1].split(&apos;[&apos;)</span><br><span class="line">                list4.append(list3[-1])</span><br><span class="line">            list5.append(list4)</span><br><span class="line">        list8 = []</span><br><span class="line">        for index in range(len(list5)):</span><br><span class="line">            index1 = 0</span><br><span class="line">            list7 = []</span><br><span class="line">            while index1 &lt; len(list5[index]):</span><br><span class="line">                if &apos;:&apos; in list5[index][index1]:</span><br><span class="line">                    list6 = list5[index][index1].split(&apos;:&apos;)</span><br><span class="line">                    time = float(list6[0])*60 + float(list6[1])</span><br><span class="line">                    list7.append(time)</span><br><span class="line">                    # print(list6[0], list6[1])</span><br><span class="line">                    index1 += 1</span><br><span class="line">                else:</span><br><span class="line">                    list7.append(list5[index][index1])</span><br><span class="line">                    index1 += 1</span><br><span class="line">            list8.append(list7)</span><br><span class="line">        return list8</span><br><span class="line"></span><br><span class="line">    def get_words(self, second):</span><br><span class="line">        list10 = []</span><br><span class="line">        list9 = self.__get_list()</span><br><span class="line">        for index in range(len(list9)):</span><br><span class="line">            for index1 in range(len(list9[index])-1):</span><br><span class="line">                list10.append(list9[index][index1])</span><br><span class="line">        list10.sort()</span><br><span class="line">        for index in range(len(list10)):</span><br><span class="line">            if second &lt;= list10[index]:</span><br><span class="line">                for index1 in range(len(list9)):</span><br><span class="line">                    # if list10[index-1] in list9[index1]:</span><br><span class="line">                    if list10[index] in list9[index1]:</span><br><span class="line">                        print(list9[index1][-1])</span><br><span class="line">                break</span><br><span class="line">        else:</span><br><span class="line">            print(&apos;超出歌曲总时长！&apos;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">blue_lotus = Music(&apos;files/blue_lotus.txt&apos;)</span><br><span class="line"></span><br><span class="line">blue_lotus.get_words(0.2)      # 蓝莲花</span><br><span class="line">blue_lotus.get_words(5)        # 你对自由地向往</span><br><span class="line">blue_lotus.get_words(10)       # 天马行空的生涯</span><br><span class="line">blue_lotus.get_words(30)       # 当你低头地瞬间</span><br><span class="line">blue_lotus.get_words(80)       # 穿过幽暗地岁月</span><br><span class="line">blue_lotus.get_words(100)      # 穿过幽暗地岁月</span><br><span class="line">blue_lotus.get_words(164)      # 蓝莲花</span><br><span class="line">blue_lotus.get_words(168)      # 超出歌曲总时长！</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>

    

    
    
    
    <div>
    
    </div>
    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/21/day15-面向对象和pygame/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="酱油壹号">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/tusun.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="四川小旋风">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2018/12/21/day15-面向对象和pygame/" class="post-title-link" itemprop="http://yoursite.com/page/2/index.html">未命名</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2018-12-21 09:34:21 / 修改时间：09:31:35" itemprop="dateCreated datePublished" datetime="2018-12-21T09:34:21+08:00">2018-12-21</time>
            

            
              

              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>#15.1 多继承</p>
<ul>
<li><p>1.多继承<br>多继承：让一个类同时继承多个类<br><strong>注意：实际开发时，一般不使用多继承。</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span>:</span></span><br><span class="line">    num = <span class="number">88</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name=<span class="string">''</span>, age=<span class="number">0</span>, color=<span class="string">''</span>)</span>:</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.age = age</span><br><span class="line">        self.color = color</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Fly</span>:</span></span><br><span class="line">    num = <span class="number">61</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, distance=<span class="number">0</span>, speed=<span class="number">0</span>)</span>:</span></span><br><span class="line">        self.distance = distance</span><br><span class="line">        self.speed = speed</span><br><span class="line"></span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">show</span><span class="params">()</span>:</span></span><br><span class="line">        print(<span class="string">'飞飞飞'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 让bird同时继承Animal和Fly</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Bird</span><span class="params">(Animal, Fly)</span>:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(Bird.num)           <span class="comment"># 88</span></span><br><span class="line">b1 = Bird()</span><br><span class="line">print(b1.name)</span><br><span class="line">print(b1.speed)           <span class="comment"># 报错，应为对象属性初始化只能继承第一个Animal类</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 两个类的方法都能继承</span></span><br><span class="line"><span class="comment"># 俩个类不同名字的字段都能继承，重名的只能继承第一个Animal类</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>2.多态<br>类的特点：封装、继承、多态<br>封装：可以对多条数据（属性）和功能（方法）进行封装<br>继承：可以让一个类拥有另外一个类的属性和方法<br>多态：有继承就有多态（一个事物的多种形态）<br>#15.2 运算符重载</p>
</li>
<li>1.函数重载<br>c++/java声明函数的语法：<br>返回值类型 函数名（参数类型1 参数名1，参数类型2 参数名2）{<br>  函数体<br>}<br>int func1(){}<br>pyhon中不支持函数重载,因为python中函数是变量</li>
<li>2.运算符重载<br>python中使用运算符的时候，实质是在调用相应的魔法方法（python中每个运算符都对应一个魔法方法）</li>
</ul>
<p>运算符重载：在不同的类中实现同一个运算符对应的魔法方法，来让类的对象支持相应的运算。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name=<span class="string">'1'</span>, score=<span class="number">0</span>, age=<span class="number">0</span>)</span>:</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.score = score</span><br><span class="line">        self.age = age</span><br><span class="line"></span><br><span class="line">    <span class="comment"># + 重载</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    数据1 + 数据2 - 数据1传给self，数据2传给other</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__add__</span><span class="params">(self, other)</span>:</span></span><br><span class="line">        <span class="comment"># self + other</span></span><br><span class="line">        <span class="keyword">return</span> self.score + other.score</span><br><span class="line"></span><br><span class="line">    <span class="comment"># - 减法</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__sub__</span><span class="params">(self, other)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self.age - other.age</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 注意：&gt;和&lt;一般只需要重载一个，另一个自动支持，除非比较的原素不一样</span></span><br><span class="line">    <span class="comment"># 小于运算</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__lt__</span><span class="params">(self, other)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self.score &lt; other.score</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__repr__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">'&lt;'</span> + str(self.__dict__)[<span class="number">1</span>:<span class="number">-1</span>] + <span class="string">'&gt;'</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">s1 = Student(<span class="string">'3'</span>)</span><br><span class="line">s2 = Student(<span class="string">'4'</span>, <span class="number">99</span>)</span><br><span class="line">s3 = Student(<span class="string">'5'</span>, <span class="number">67</span>)</span><br><span class="line">s4 = Student(<span class="string">'6'</span>, <span class="number">100</span>)</span><br><span class="line">s5 = Student(<span class="string">'7'</span>, <span class="number">33</span>)</span><br><span class="line">print(s1 + s2)             <span class="comment"># class Student</span></span><br><span class="line"><span class="comment"># 1 + 2                      # class int</span></span><br><span class="line"><span class="comment"># 'a' + 2                      # class str</span></span><br><span class="line"><span class="comment"># 4 &lt; 7</span></span><br><span class="line">list1 = [s1, s2, s3, s4, s5]</span><br><span class="line">print(max(list1))               <span class="comment"># 大于小于重载只需要一个，系统会自动取反</span></span><br><span class="line">list1.sort()</span><br><span class="line">print(list1)</span><br><span class="line"></span><br><span class="line">print(s1 == s2)               <span class="comment"># 基类object，则都支持</span></span><br></pre></td></tr></table></figure></p>
<p>#15.3 内存管理机制</p>
<ul>
<li>1.堆和栈<br>内存区域分堆区间和栈区间；栈区间的内存的开辟和释放是自动的，堆区间内存是手动开辟和手动释放的。<br>内存管理，管理的是堆区间的内存</li>
<li>2.数据的存储<blockquote>
<p>a.python中所有的数据都是对象，都是保存在堆中的。<br>b.python中所有的变量存储的都是存在堆中的数据的地址，存了对象地址的变量又叫对象的引用。<br>c.默认情况下创建对象就会在堆区间去开辟空间存储数据，并且将地址返回，如果对象是数字或字符串，会做缓存，每次使用时会去缓存中看是否使用过相同的数字或字符串，如果有就返回之前的数据的地址，没有才开辟新的空间存储数据。</p>
</blockquote>
</li>
<li>3.数据的销毁<br>python中通过‘垃圾回收机制’来管理内存的释放。<br>原理：看一个对象（数据）是否销毁，就看这个对象的引用计数是否为0.为0就销毁，不为0就不销毁。<br>引用计数：对象引用的个数。<br>不是时刻检测，隔一段时间检测一次，回收掉引用计数为0的对象。<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sys <span class="keyword">import</span> getrefcount <span class="keyword">as</span> g</span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">getrefcount(对象) - 获取对象的引用计数</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 1.增加引用计数：使用变量存对象地址</span></span><br><span class="line">list1 = [<span class="number">1</span>]            <span class="comment"># [1]是一个对象  list1是它的引用 此时对象引用计数为1</span></span><br><span class="line">print(g(list1))        <span class="comment"># 引用记数为2，因为g函数也引用了1次。并且函数</span></span><br><span class="line"><span class="comment"># 结束后计数-1，因为被销毁</span></span><br><span class="line"></span><br><span class="line">list2 = list1          <span class="comment"># 此时对象引用计数为2</span></span><br><span class="line">print(g(list1))        <span class="comment"># 引用记数为3，因为g函数也引用了1次。</span></span><br><span class="line"></span><br><span class="line">list3 = [list1, <span class="number">100</span>]     <span class="comment"># 此时对象引用计数为3</span></span><br><span class="line">print(g(list1))        <span class="comment"># 引用记数为4，因为g函数也引用了1次。</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 减少引用计数</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">a.删除引用</span></span><br><span class="line"><span class="string">b.让当前对象的引用成为别的对象的引用</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line">print(id(list3[<span class="number">1</span>]))</span><br><span class="line"><span class="keyword">del</span> list3[<span class="number">0</span>]</span><br><span class="line">print(g(list1))        <span class="comment"># 引用记数为2 + 1</span></span><br><span class="line"></span><br><span class="line">list2 = <span class="number">100</span></span><br><span class="line">print(g(list1))        <span class="comment"># 引用记数为1 + 1</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">'===================='</span>)</span><br><span class="line">print(id(list2))</span><br><span class="line">print(g(<span class="number">100</span>))  <span class="comment"># 2 + 1  可能其它地方用过</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">list1 = [<span class="number">1</span>, <span class="number">2</span>]</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>#15.4 pygame游戏最小系统<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import pygame</span><br></pre></td></tr></table></figure></p>
<ul>
<li><p>1.游戏初始化</p>
<blockquote>
<p>pygame.init()</p>
</blockquote>
</li>
<li><p>2.创建游戏窗口</p>
<blockquote>
<p>set_mode(窗口大小) - 窗口大小是一个元组，有两个元素：width，height<br>set_mode((宽度，高度))<br>宽度和高度单位是像素</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">window = pygame.display.set_mode((300, 600))</span><br></pre></td></tr></table></figure>
</blockquote>
</li>
</ul>
<blockquote>
<p>fill(颜色) - fill((r,g,b)) r,g,b都在0-255<br>计算机颜色：3原色 - 红绿蓝（简称rgb）<br>            颜色值就是由3个数字组成，分别代表红绿蓝，数字范围为：0-255</p>
</blockquote>
<blockquote>
<p>pyhon中的颜色是一个元组，元组中是3个颜色，分别为r，g，b<br>（255，255，255） - 白色<br>（0，0，0） - 黑色<br>（255，0，0） - 红色<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 将窗口填充成指定的颜色</span></span><br><span class="line">window.fill((<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>))</span><br><span class="line"><span class="comment"># 将窗口展示在屏幕上</span></span><br><span class="line">pygame.display.flip()</span><br><span class="line"><span class="comment"># 3.创建游戏循环</span></span><br><span class="line"><span class="keyword">while</span> <span class="keyword">True</span>:</span><br><span class="line">    <span class="comment"># 4.检测事件</span></span><br><span class="line">    <span class="keyword">for</span> event <span class="keyword">in</span> pygame.event.get():</span><br><span class="line">        <span class="comment"># 区分不同的事件，做出不一样的反应</span></span><br><span class="line">        <span class="comment"># print(event) 打印窗口所有事件</span></span><br><span class="line">        <span class="comment"># 关闭按钮点击事件是否发生</span></span><br><span class="line">        pygame.display.flip()</span><br><span class="line">        <span class="keyword">if</span> event.type == pygame.QUIT:</span><br><span class="line">            <span class="comment"># 结束线程</span></span><br><span class="line">            exit()</span><br></pre></td></tr></table></figure></p>
</blockquote>
<p>#15.5 在窗口上显示图片<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pygame</span><br><span class="line"></span><br><span class="line">pygame.init()</span><br><span class="line">window = pygame.display.set_mode((<span class="number">400</span>, <span class="number">600</span>))</span><br><span class="line">window.fill((<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># =========显示图片============</span></span><br><span class="line"><span class="comment"># 1.加载图片</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">pygame.image.load(图片地址) - 加载指定路径图片，返回一个图片对象</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line">image_obj = pygame.image.load(<span class="string">'files/1.jpg'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2.渲染图片</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">blit(渲染对象，位置)</span></span><br><span class="line"><span class="string">渲染对象 - 图片对象（要显示的东西）</span></span><br><span class="line"><span class="string">位置 - 元组（坐标）（x，y）</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="comment"># window.blit(image_obj, (0, 0))</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 3.获取图片的大小</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">对象.get_size（） - 获取对象大小，返回值是一个元组：（width，height）</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line">image_w, image_h = image_obj.get_size()</span><br><span class="line">window.blit(image_obj, ((<span class="number">400</span>-image_w)*<span class="number">0.5</span>, (<span class="number">600</span>-image_h)*<span class="number">0.5</span>))  <span class="comment"># 居中</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 4.图片缩放和旋转</span></span><br><span class="line">a.缩放</span><br><span class="line">pygame.transform.scale(图片对象，大小) - 缩放；将指定的图片缩放到指定的大小</span><br><span class="line">并返回一个新的图片。可能会变形！！</span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string"># new_image_obj = pygame.transform.scale(image_obj, (400,200))</span></span><br><span class="line"><span class="string"># window.blit(new_image_obj, (0, 0))</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line">b.旋转缩放</span><br><span class="line">pygame.transform.rotozoom(图片对象，旋转角度，缩放比例) 不会变形,可做旋转</span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">for i in range(1000):</span></span><br><span class="line"><span class="string">    new_image_obj = pygame.transform.rotozoom(image_obj, i*30, 1)</span></span><br><span class="line"><span class="string">    window.blit(new_image_obj, ((400 - image_w) * 0.5, (600 - image_h) * 0.5))</span></span><br><span class="line"><span class="string">    # window.blit(new_image_obj, (0, 0))</span></span><br><span class="line"><span class="string">    pygame.display.update()</span></span><br><span class="line"><span class="string"># pygame.display.flip()</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">while 1:</span></span><br><span class="line"><span class="string">    for event in pygame.event.get():</span></span><br><span class="line"><span class="string">        if event.type == pygame.QUIT:</span></span><br><span class="line"><span class="string">            exit()</span></span><br></pre></td></tr></table></figure></p>
<p>#15.5 在窗口上显示文字<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pygame</span><br><span class="line"></span><br><span class="line">pygame.init()</span><br><span class="line">window = pygame.display.set_mode((<span class="number">1000</span>, <span class="number">600</span>))</span><br><span class="line">window.fill((<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># ======显示文字========</span></span><br><span class="line"><span class="comment"># 1.创建字体对象（选笔）</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">a 系统字体</span></span><br><span class="line"><span class="string">font = pygame.font.SysFont(字体名，字体大小，是否加粗=False，是否倾斜=False)</span></span><br><span class="line"><span class="string">- 返回一个字体对象（系统字体只能支持英文显示）</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">b 自定义字体</span></span><br><span class="line"><span class="string">ttf - 字体文件格式，可在程序中使用。</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="comment"># a 系统字体</span></span><br><span class="line"><span class="comment"># font = pygame.font.SysFont('Times', 100)</span></span><br><span class="line"><span class="comment"># b 自定义字体</span></span><br><span class="line">font = pygame.font.Font(<span class="string">'files/aa.ttf'</span>, <span class="number">100</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2.根据字体创建文字对象</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">render(文字内容，是否平滑，文字颜色)</span></span><br><span class="line"><span class="string">text, antialias, color</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line">text = font.render(<span class="string">'中文'</span>, <span class="keyword">True</span>, (<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>))</span><br><span class="line">text1 = font.render(<span class="string">'回手，掏！！'</span>, <span class="keyword">True</span>, (<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>))</span><br><span class="line">text2 = font.render(<span class="string">'走位，走位，走位！！！'</span>, <span class="keyword">True</span>, (<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>))</span><br><span class="line">text3 = font.render(<span class="string">'诶！打不到我！！'</span>, <span class="keyword">True</span>, (<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>))</span><br><span class="line">text4 = font.render(<span class="string">'诶！打不到我！！'</span>, <span class="keyword">True</span>, (<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3.把文字渲染到窗口上</span></span><br><span class="line">window.blit(text, (<span class="number">0</span>, <span class="number">100</span>))</span><br><span class="line">window.blit(text1, (<span class="number">0</span>, <span class="number">0</span>))</span><br><span class="line">window.blit(text2, (<span class="number">0</span>, <span class="number">200</span>))</span><br><span class="line">window.blit(text3, (<span class="number">0</span>, <span class="number">300</span>))</span><br><span class="line">window.blit(text4, (<span class="number">0</span>, <span class="number">400</span>))</span><br><span class="line"></span><br><span class="line">pygame.display.flip()</span><br><span class="line"><span class="keyword">while</span> <span class="number">1</span>:</span><br><span class="line">    <span class="keyword">for</span> event <span class="keyword">in</span> pygame.event.get():</span><br><span class="line">        <span class="keyword">if</span> event.type == pygame.QUIT:</span><br><span class="line">            exit()</span><br></pre></td></tr></table></figure></p>
<p>#15.7 在窗口上显示图形<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pygame</span><br><span class="line"><span class="keyword">from</span> color <span class="keyword">import</span> Color</span><br><span class="line"><span class="keyword">import</span> math</span><br><span class="line"></span><br><span class="line"><span class="comment"># 游戏最小系统</span></span><br><span class="line">pygame.init()</span><br><span class="line">window = pygame.display.set_mode((<span class="number">1000</span>, <span class="number">600</span>))</span><br><span class="line">window.fill((<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># ====显示图形====</span></span><br><span class="line"><span class="comment"># 1.画直线</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">pygame.draw.line(画在哪儿，线的颜色，起点，终点, 线宽)</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line">pygame.draw.line(window, Color.green, (<span class="number">0</span>, <span class="number">0</span>), (<span class="number">100</span>, <span class="number">100</span>), <span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">pygame.draw.lines(画在哪儿，线的颜色,是否闭合，点列表，线宽）</span></span><br><span class="line"><span class="string">依次链接点列表中所有的点，是否闭合决定是否链接起点和终点</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line">list1 = [(<span class="number">0</span>, <span class="number">0</span>), (<span class="number">100</span>, <span class="number">0</span>), (<span class="number">100</span>, <span class="number">200</span>), (<span class="number">0</span>, <span class="number">200</span>)]</span><br><span class="line">pygame.draw.lines(window, Color.red, <span class="keyword">True</span>, list1, <span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2.画圆</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">pygame.draw.circle(画在哪儿，颜色，圆心坐标，半径，线宽=0)</span></span><br><span class="line"><span class="string">线宽=0 是实心的圆</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="comment"># pygame.draw.circle(window, Color.yellow, (400, 400), 200, 150)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 3.画弧线</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">arc(画在哪，颜色，矩形（Rect），起始弧度，终止弧度，线宽=1)</span></span><br><span class="line"><span class="string">矩形（Rect） - （x,y,width,height）;x,y是矩形左上角坐标，width和height是矩形的宽和高</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line">pygame.draw.arc(window, Color.blue, (<span class="number">400</span>, <span class="number">400</span>, <span class="number">200</span>, <span class="number">100</span>), math.pi/<span class="number">4</span>*<span class="number">5</span>, math.pi/<span class="number">4</span>*<span class="number">7</span>, <span class="number">20</span>)</span><br><span class="line">pygame.draw.arc(window, Color.blue, (<span class="number">400</span>, <span class="number">400</span>, <span class="number">200</span>, <span class="number">100</span>), <span class="number">0</span>, math.pi, <span class="number">20</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">pygame.display.flip()</span><br><span class="line"><span class="keyword">while</span> <span class="number">1</span>:</span><br><span class="line">    <span class="keyword">for</span> event <span class="keyword">in</span> pygame.event.get():</span><br><span class="line">        <span class="keyword">if</span> event.type == pygame.QUIT:</span><br><span class="line">            exit()</span><br></pre></td></tr></table></figure></p>
<h1 id="15-8椭圆、矩形、多边形"><a href="#15-8椭圆、矩形、多边形" class="headerlink" title="15.8椭圆、矩形、多边形"></a>15.8椭圆、矩形、多边形</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pygame</span><br><span class="line"><span class="keyword">from</span> color <span class="keyword">import</span> Color</span><br><span class="line"><span class="keyword">import</span> math</span><br><span class="line"></span><br><span class="line"><span class="comment"># 游戏最小系统</span></span><br><span class="line">pygame.init()</span><br><span class="line">window = pygame.display.set_mode((<span class="number">1000</span>, <span class="number">600</span>))</span><br><span class="line">window.fill((<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>))</span><br><span class="line"><span class="comment"># 弧度</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">arc(Surface, color, Rect, start_angle, stop_angle, width=1)</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line">pygame.draw.arc(window, Color.rand_color(), (<span class="number">0</span>, <span class="number">0</span>, <span class="number">200</span>, <span class="number">100</span>), <span class="number">0</span>, <span class="number">2</span>*math.pi, <span class="number">20</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 椭圆</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">ellipse(Surface, color, Rect, width=0)</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line">pygame.draw.ellipse(window, Color.rand_color(), (<span class="number">300</span>, <span class="number">300</span>, <span class="number">200</span>, <span class="number">100</span>), <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">pygame.display.flip()</span><br><span class="line"><span class="keyword">while</span> <span class="number">1</span>:</span><br><span class="line">    <span class="keyword">for</span> event <span class="keyword">in</span> pygame.event.get():</span><br><span class="line">        <span class="keyword">if</span> event.type == pygame.QUIT:</span><br><span class="line">            exit()</span><br></pre></td></tr></table></figure>
<p>#15.9 事件和动画<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pygame</span><br><span class="line"><span class="keyword">from</span> color <span class="keyword">import</span> Color</span><br><span class="line"></span><br><span class="line">pygame.init()</span><br><span class="line">window = pygame.display.set_mode((<span class="number">400</span>, <span class="number">600</span>))</span><br><span class="line">window.fill((<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 在这儿写的代码是静态的(界面上的内容)</span></span><br><span class="line">x = <span class="number">100</span></span><br><span class="line">y = <span class="number">100</span></span><br><span class="line">width = <span class="number">100</span></span><br><span class="line">height = <span class="number">80</span></span><br><span class="line">pygame.draw.rect(window, Color.green, (x, y, width, height))</span><br><span class="line"></span><br><span class="line">pygame.display.flip()</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="keyword">True</span>:</span><br><span class="line"></span><br><span class="line">    y += <span class="number">3</span></span><br><span class="line">    <span class="comment"># width -= 2</span></span><br><span class="line">    window.fill(Color.white)  <span class="comment"># 覆盖原来的状态</span></span><br><span class="line">    pygame.draw.rect(window, Color.rand_color(), (x, y, width, height))</span><br><span class="line">    pygame.display.update()  <span class="comment"># 重新显示</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 有事件产生的时候才会进入for循环</span></span><br><span class="line">    <span class="keyword">for</span> event <span class="keyword">in</span> pygame.event.get():</span><br><span class="line">        <span class="comment"># 1.type属性</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        不同的type值对应不同类型的事件</span></span><br><span class="line"><span class="string">        QUIT - 关闭按钮被点击事件</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        a.鼠标相关事件  - 按的位置</span></span><br><span class="line"><span class="string">        MOUSEMOTION - 鼠标移动</span></span><br><span class="line"><span class="string">        MOUSEBUTTONDOWN - 鼠标按下</span></span><br><span class="line"><span class="string">        MOUSEBUTTOUP - 鼠标弹起</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        event.pos - 获取鼠标事件产生的位置</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        b.键盘事件 - 按的是哪个键</span></span><br><span class="line"><span class="string">        KEYDOWN - 按键按下</span></span><br><span class="line"><span class="string">        KEYUP - 按键弹起</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        event.key - 被按的键对应的字符的编码值</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">if</span> event.type == pygame.QUIT:</span><br><span class="line">            exit()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">elif</span> event.type == pygame.MOUSEMOTION:</span><br><span class="line">            <span class="comment"># print('鼠标移动', event.pos)</span></span><br><span class="line">            <span class="comment"># pygame.draw.circle(window, Color.rand_color(), event.pos, 30)</span></span><br><span class="line">            <span class="comment"># pygame.display.flip()</span></span><br><span class="line">            <span class="keyword">pass</span></span><br><span class="line">        <span class="keyword">elif</span> event.type == pygame.MOUSEBUTTONDOWN:</span><br><span class="line">            <span class="comment"># 鼠标按下要做什么就写在这儿</span></span><br><span class="line">            print(<span class="string">'鼠标按下'</span>, event.pos)</span><br><span class="line">            pygame.draw.circle(window, Color.rand_color(), event.pos, <span class="number">30</span>)</span><br><span class="line">            pygame.display.flip()</span><br><span class="line">        <span class="keyword">elif</span> event.type == pygame.MOUSEBUTTONUP:</span><br><span class="line">            print(<span class="string">'鼠标弹起!'</span>, event.pos)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">elif</span> event.type == pygame.KEYDOWN:</span><br><span class="line">            print(<span class="string">'按键按下'</span>)</span><br><span class="line">            print(event.key, chr(event.key))</span><br><span class="line"></span><br><span class="line">        <span class="keyword">elif</span> event.type == pygame.KEYUP:</span><br><span class="line">            print(<span class="string">'按键弹起'</span>)</span><br><span class="line">            print(event.key, chr(event.key))</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>

    

    
    
    
    <div>
    
    </div>
    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/21/day14-类和对象2/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="酱油壹号">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/tusun.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="四川小旋风">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2018/12/21/day14-类和对象2/" class="post-title-link" itemprop="http://yoursite.com/page/2/index.html">未命名</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2018-12-21 09:34:21 / 修改时间：09:31:35" itemprop="dateCreated datePublished" datetime="2018-12-21T09:34:21+08:00">2018-12-21</time>
            

            
              

              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>#14.1 类方法和静态方法<br>类中方法分为：对象方法，类方法和静态方法</p>
<ul>
<li><p>1.对象方法<br>a.直接声明在类中<br>b.有默认参数self<br>c.通过对象调用</p>
</li>
<li><p>2.类方法<br>a.在声明前添加@classmethod<br>b.有默认参数cls,调用时不需要给cls传参，系统会自动将调用当前类方法的类传给cls<br>cls最终指向的是一个类，类可以做的，cls都可以做。<br>c.通过类去调用：类.类方法（）</p>
</li>
<li><p>3.静态方法<br>a.在声明前添加@staticmethod<br>b.没有默认参数,<br>c.通过类去调用：类.类方法（）</p>
</li>
<li><p>4.对对象方法、类方法和静态方法的选择<br>a.什么时候使用对象方法：<br>当实现函数功能需要用到对象属性时，就使用对象方法。<br>b.什么时候使用类方法：<br>实现函数功能不需要用到对象属性，但是需要类的时候就使用类方法。<br>c.什么时候使用静态方法：<br>实现函数功能，既不需要对象属性，也不需要类的时候，就使用静态方法。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>:</span></span><br><span class="line">    pi = <span class="number">3.1415926</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name)</span>:</span></span><br><span class="line">        self.name = name</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 对象方法</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">eat</span><span class="params">(self, food)</span>:</span></span><br><span class="line">        print(<span class="string">'%s在吃%s'</span> % (self.name, food))</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 类方法</span></span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">destroy</span><span class="params">(cls)</span>:</span></span><br><span class="line">        print(<span class="string">'人类破坏环境。'</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 可以用cls来创建对象</span></span><br><span class="line">        p1 = cls(<span class="string">'老王'</span>)</span><br><span class="line">        p1.eat(<span class="string">'牛肉'</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 使用类的字段</span></span><br><span class="line">        print(cls.pi)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 使用cls调用类相关方法</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 静态方法</span></span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">hit_animal</span><span class="params">()</span>:</span></span><br><span class="line">        print(<span class="string">'人类殴打小动物！'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Person.destroy()        <span class="comment"># 人类破坏环境。 老王在吃牛肉 3.1415926</span></span><br><span class="line">Person.hit_animal()     <span class="comment"># 人类殴打小动物！</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 练习：</span></span><br><span class="line"><span class="comment"># 数学类，属性：pi 功能：求两数和，求一个圆的面积</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># class Circle:</span></span><br><span class="line"><span class="comment">#     def __init__(self, r):</span></span><br><span class="line"><span class="comment">#         self.r = r</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#     def area(self, pi):</span></span><br><span class="line"><span class="comment">#         return pi*self.r**2</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># class MyMath:</span></span><br><span class="line"><span class="comment">#     pi = 3.1415926</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#     @staticmethod</span></span><br><span class="line"><span class="comment">#     def sum1(n1, n2):</span></span><br><span class="line"><span class="comment">#         return n1 + n2</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#     @classmethod</span></span><br><span class="line"><span class="comment">#     def circle_area(cls, other):</span></span><br><span class="line"><span class="comment">#         return other.area(cls.pi)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyMath</span>:</span></span><br><span class="line">    pi = <span class="number">3.1415926</span></span><br><span class="line"></span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sum1</span><span class="params">(n1, n2)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> n1 + n2</span><br><span class="line"></span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">circle_area</span><span class="params">(cls, r)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> cls.pi*r**<span class="number">2</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(MyMath.sum1(<span class="number">1</span>, <span class="number">4</span>))        <span class="comment"># 5</span></span><br><span class="line">print(MyMath.circle_area(<span class="number">4</span>))    <span class="comment"># 50.2654816</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>#14.2 私有化</p>
<ul>
<li><p>1.私有化<br>在类中，可以通过在属性名或方法名前加__（注意：不能以__结尾），那么这个属性或方法会变成私有的，那么私有的属性和方法都不能在外部使用。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>:</span></span><br><span class="line">    num = <span class="number">100</span></span><br><span class="line">    __num = <span class="number">200</span>    <span class="comment"># 私有属性</span></span><br><span class="line">    __num__ = <span class="number">300</span>  <span class="comment"># 不是私有属性</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.name = <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">show_name</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">'内部使用：'</span>, Person.__num)</span><br><span class="line">        print(self.name)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">p1 = Person()</span><br><span class="line">print(Person.num)</span><br><span class="line"><span class="comment"># print(Person.__num)</span></span><br><span class="line"><span class="comment"># AttributeError: type object 'Person' has no attribute '__num'</span></span><br><span class="line">print(p1.show_name())</span><br></pre></td></tr></table></figure>
</li>
<li><p>2.私有化原理<br>python中没有真正的私有化，不能从访问权限上控制属性和方法的使用，只是在名字前<br>有_<em>但是没有以__结尾的名字前再加了一个’</em>类名’，导致不能通过原属性和方法名进行访问。<br>#14.3 对象属性的getter和setter</p>
</li>
<li><p>1.getter和setter<br>如果希望在获取对象属性前做点别的事情，就给这个属性添加getter；<br>如果希望给对象赋值前做点别的事情，就给这个属性添加setter</p>
</li>
<li><p>2.添加getter<br>a.属性命名时属性名前加一个下划线（_属性名）如：self._age = 0<br>b.声明一个函数，函数名是属性名（不要下划线），不需要额外参数；并且函数前使用@property修饰，这个函数的返回值就是获取属性的结果。<br>c.当需要获取属性时，通过 对象.一个不带下划线的属性，如：对象.age</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@property</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">age</span><span class="params">(self)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> 年龄相关值</span><br></pre></td></tr></table></figure>
</li>
<li><p>3.给对象属性添加setter<br>想要给对象属性添加setter，必须先给它添加getter<br>a.属性命名时属性名前加一个下划线（_属性名）如：self._age = 0<br>b.声明一个函数，函数名是属性名（不要下划线），需要一个额外的参数；不用返回值，并且函数前使用@getter名.setter来修饰<br>c.当需要给属性赋值时，通过 对象.不带下划线的属性来赋值；如：对象.age = 100<br>例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">@age.setter</span><br><span class="line">def age(self, age):</span><br><span class="line">    其它操作</span><br><span class="line">    self._age = age</span><br></pre></td></tr></table></figure>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name, age)</span>:</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self._age = age</span><br><span class="line">        self.sex = <span class="string">'男'</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 这儿的age属性就是属性__age的getter方法。</span></span><br><span class="line"><span class="meta">    @property</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">age</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> self._age &lt; <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">'婴儿'</span></span><br><span class="line">        <span class="keyword">elif</span> self._age &lt; <span class="number">18</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">'未成年'</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">'LOL'</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 这儿的age函数就是属性_age的setter</span></span><br><span class="line"><span class="meta">    @age.setter</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">age</span><span class="params">(self, age)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> isinstance(age, int):</span><br><span class="line">            print(<span class="string">'年龄必须是整数！'</span>)</span><br><span class="line">            <span class="keyword">raise</span> ValueError</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> <span class="number">0</span> &lt;= age &lt;= <span class="number">100</span>:</span><br><span class="line">            print(<span class="string">'年龄超出范围'</span>)</span><br><span class="line">            <span class="keyword">raise</span> ValueError</span><br><span class="line">        self._age = age</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">p1 = Person(<span class="string">'666'</span>, <span class="number">100</span>)</span><br><span class="line">p2 = Person(<span class="string">'666'</span>, <span class="number">16</span>)</span><br><span class="line"><span class="comment"># print(p1.age)       # 希望取到的不是年龄，而是年龄对应的阶段</span></span><br><span class="line"><span class="comment"># p1.age = -12        # 存0</span></span><br><span class="line"><span class="comment"># p1.age = 200        # 存150</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 这儿实质是在调用__age的getter方法。</span></span><br><span class="line">print(p1.age)         <span class="comment"># LOL</span></span><br><span class="line">print(p2.age)         <span class="comment"># 未成年</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 这儿实质是在调用_age的setter方法</span></span><br><span class="line">p1.age = <span class="number">88</span></span><br><span class="line">print(p1.age)         <span class="comment"># LOL</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># p1.age = 888</span></span><br><span class="line"><span class="comment"># print(p1.age)         # 年龄超出范围</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 练习：声明一个时间类，有一个属性以秒的形式保存时间</span></span><br><span class="line"><span class="comment"># 不断的输入时间：以'xx:xx'分秒的形式输入。并且将这些时间对象保存到列表中，直到</span></span><br><span class="line"><span class="comment"># 输入end，为止。 10:20 --&gt; time.秒 = 620</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Time</span>:</span></span><br><span class="line">    <span class="comment"># time_list = []</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, str1:str)</span>:</span></span><br><span class="line">        self._str1 = str1</span><br><span class="line"></span><br><span class="line"><span class="meta">    @property</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">str1</span><span class="params">(self)</span>:</span></span><br><span class="line">        list1 = self._str1.split(<span class="string">':'</span>)</span><br><span class="line">        second = int(list1[<span class="number">0</span>])*<span class="number">60</span> + int(list1[<span class="number">1</span>])</span><br><span class="line">        <span class="comment"># Time.time_list.append(second)</span></span><br><span class="line">        <span class="keyword">return</span> second</span><br><span class="line"></span><br><span class="line"><span class="meta">    @str1.setter</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">str1</span><span class="params">(self, str1)</span>:</span></span><br><span class="line">        self._str1 = str1</span><br><span class="line"></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    补充：打印自己声明的类的对象时，默认打印的是：&lt;模块名.类名 object at 对象地址&gt;</span></span><br><span class="line"><span class="string">    如果不希望以默认方式打印对象，可以用以下魔法方法实现。打印对象时，就会打印这个</span></span><br><span class="line"><span class="string">    魔法方法的返回值，必须是字符串。</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="comment"># def __repr__(self):</span></span><br><span class="line">    <span class="comment">#     return '转换后为：' + str(self.str1)</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__repr__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">'&gt;&gt;'</span> + self.__class__.__module__ + self.__class__.__name__ + \</span><br><span class="line"> <span class="string">' object at '</span> + hex(id(self)) + <span class="string">'&lt;&lt;'</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">time_list = []</span><br><span class="line">t1 = Time(<span class="string">'10:20'</span>)</span><br><span class="line">print(t1.str1)</span><br><span class="line"></span><br><span class="line">t1.str1 = <span class="string">'1:20'</span>      <span class="comment"># 620</span></span><br><span class="line">print(t1.str1)        <span class="comment"># 80</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="keyword">True</span>:</span><br><span class="line">    value = input(<span class="string">'时间：'</span>)</span><br><span class="line">    <span class="keyword">if</span> value == <span class="string">'end'</span>:</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        t = Time(value)</span><br><span class="line">        time_list.append(t)</span><br><span class="line"></span><br><span class="line">print(time_list)</span><br></pre></td></tr></table></figure>
<p>#14.4 类的继承</p>
<ul>
<li>1.继承<br>pyhon中类支持继承，并且支持多继承。<br>python中类默认情况下是继承自object（object是pyhon中所有类的基类。）</li>
</ul>
<blockquote>
<p>a.什么是继承<br>一个类可以继承另外一个类，继承者叫子类，被继承者叫父类。继承就是让子类直接拥<br>有父类中的内容。</p>
</blockquote>
<blockquote>
<p>b.可以继承哪些内容<br>所有的属性和方法都可以继承<br>1.对象属性<br>2.类的字段<br>3.对象方法<br>4.类方法<br>…<br> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>:</span></span><br><span class="line">    num = <span class="number">61</span></span><br><span class="line">    <span class="comment"># 注意：__slots__对应的值不会被继承</span></span><br><span class="line">    __slots__ = (<span class="string">'name'</span>, <span class="string">'age'</span>, <span class="string">'sex'</span>)</span><br><span class="line">    __num = <span class="number">16</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, sex)</span>:</span></span><br><span class="line">        self.name = <span class="string">'119'</span></span><br><span class="line">        self.age = <span class="number">0</span></span><br><span class="line">        self.sex = sex</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">show_message</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">'%s你是119吗'</span> % self.name)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Student类继承Person类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span><span class="params">(Person)</span>:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">s1 = Student(<span class="string">'男'</span>)</span><br><span class="line">print(s1.name)            <span class="comment"># 119</span></span><br><span class="line">print(Student.num)        <span class="comment"># 61</span></span><br><span class="line">s1.show_message()         <span class="comment"># 119你是119吗</span></span><br></pre></td></tr></table></figure></p>
</blockquote>
<p>#14.5 添加属性和方法<br>子类除了拥有从父类继承下来的属性和方法，还拥有属于自己的属性和方法</p>
<ul>
<li>1.在子类中添加方法</li>
</ul>
<blockquote>
<p>a.添加一个新的方法<br>直接在子类中声明其他方法;添加后子类可以调用自己的方法，也可以调用父类的方法，但是父类不能调用子类的方法。</p>
</blockquote>
<blockquote>
<p>b.重写父类的方法：重新实现父类方法<br><strong>完全重写</strong> - 覆盖父类功能 - 直接在子类中重写父类方法<br><strong>部分重写</strong> - 保留父类功能，添加新的功能 - 在子类中实现父类方法时，通过super()去调用父类方法，再添加新功能。</p>
</blockquote>
<p><strong>注意：</strong>可以在子类方法中通过super()去调用父类对象方法。<br><strong>注意：</strong>子类静态方法中不能使用此方法，会报错：没有参数，静态方法是没有默认参数self的。<br>super(类，对象) - 获取对象中父类的部分（要求对象是这个指定类的对象）</p>
<blockquote>
<p>c.类中方法的调用过程<br>通过对象调用方法时，先看当前类中是否声明过此方法，如果声明过就直接调用当前类对应的方法。<br>如果当前类中没有声明过，会去找父类中有没有声明过此方法，声明过就调用父类方法。<br>如果父类也没有声明，就去找父类的父类。。以此类推，直到object中也没有，程序崩溃。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>:</span></span><br><span class="line">    num = <span class="number">61</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, sex)</span>:</span></span><br><span class="line">        self.name = <span class="string">'119'</span></span><br><span class="line">        self.age = <span class="number">0</span></span><br><span class="line">        self.sex = sex</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">show_message</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">'%s你是119吗'</span> % self.name)</span><br><span class="line"></span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">info</span><span class="params">()</span>:</span></span><br><span class="line">        print(<span class="string">'我是人类。'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span><span class="params">(Person)</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">study</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">'%s在学习'</span> % self.name)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 完全重写</span></span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">message</span><span class="params">(cls)</span>:</span></span><br><span class="line">        print(<span class="string">'我是学生。'</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">info</span><span class="params">()</span>:</span></span><br><span class="line">        print(<span class="string">'我是学生。'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 保留父类功能</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">show_message</span><span class="params">(self)</span>:</span></span><br><span class="line">        super().show_message()</span><br><span class="line">        print(<span class="string">'我去上小学'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">s1 = Student(<span class="string">'男'</span>)</span><br><span class="line">p1 = Person(<span class="string">'女'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># p1.study()  AttributeError: 'Person' object has no attribute 'study'</span></span><br><span class="line"></span><br><span class="line">Student.info()   <span class="comment"># 我是学生。</span></span><br><span class="line">Person.info()    <span class="comment"># 我是人类。</span></span><br><span class="line"></span><br><span class="line">s1.show_message()  <span class="comment"># 119你是119吗  我去上小学</span></span><br><span class="line">p1.show_message()  <span class="comment"># 119你是119吗</span></span><br></pre></td></tr></table></figure></p>
</blockquote>
<p>#14.6 添加属性</p>
<ul>
<li><p>1.添加类的字段<br>直接在子类中添加新的字段</p>
</li>
<li><p>2.添加对象属性<br>子类的对象属性是通过继承父类对象属性init方法来的</p>
</li>
</ul>
<blockquote>
<p>如果想要在保留父类继承下来的对象属性的前提下，添加新的对象属性，需要在子类init方法中，通过super（）去调用父类的init方法。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>:</span></span><br><span class="line">    num = <span class="number">61</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, sex)</span>:</span></span><br><span class="line">        self.name = <span class="string">'119'</span></span><br><span class="line">        self.age = <span class="number">0</span></span><br><span class="line">        self.sex = sex</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">show_message</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">'%s你是119吗'</span> % self.name)</span><br><span class="line"></span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">info</span><span class="params">()</span>:</span></span><br><span class="line">        print(<span class="string">'我是人类。'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span><span class="params">(Person)</span>:</span></span><br><span class="line">    number = <span class="number">100</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, sex)</span>:</span>     <span class="comment"># 注意此处父类参数。</span></span><br><span class="line">        super().__init__(sex)</span><br><span class="line">        self.study_id = <span class="number">9999</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">study</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">'%s在学习'</span> % self.name)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 完全重写</span></span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">message</span><span class="params">(cls)</span>:</span></span><br><span class="line">        print(<span class="string">'我是学生。'</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">info</span><span class="params">()</span>:</span></span><br><span class="line">        print(<span class="string">'我是学生。'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 保留父类功能</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">show_message</span><span class="params">(self)</span>:</span></span><br><span class="line">        super().show_message()</span><br><span class="line">        print(<span class="string">'我去上小学'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(Student.num, Student.number)        <span class="comment"># 61 100</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 练习：动物类，有属性：年龄，颜色，类型。要求创建动物对象时，类型和颜色必需赋值</span></span><br><span class="line"><span class="comment"># 年龄可以赋值，可以不赋值</span></span><br><span class="line"><span class="comment"># 声明一个猫类，有属性：年龄，颜色，类型，爱好</span></span><br><span class="line"><span class="comment"># 要求创建猫对象时，颜色必须赋值，年龄，爱好可以赋值，可以不赋值，类型不能赋值。</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,  color, type1, age=<span class="number">99</span>)</span>:</span></span><br><span class="line">        self.type1 = type1</span><br><span class="line">        self.color = color</span><br><span class="line">        self.age = age</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span><span class="params">(Animal)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, color, age=<span class="number">99</span>, like=<span class="string">'eat'</span>)</span>:</span></span><br><span class="line">        super().__init__(color, <span class="string">'cat'</span>, age)</span><br><span class="line">        self.like = like</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">an1 = Animal(<span class="string">'犬科'</span>, <span class="string">'白色'</span>)</span><br><span class="line"></span><br><span class="line">cat1 = Cat(<span class="string">'黑色'</span>)</span><br></pre></td></tr></table></figure></p>
</blockquote>

          
        
      
    </div>

    

    
    
    
    <div>
    
    </div>
    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <div class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/tusun.png" alt="酱油壹号">
            
              <p class="site-author-name" itemprop="name">酱油壹号</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">34</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              

              
            </nav>
          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://github.com/yourname" title="GitHub &rarr; https://github.com/yourname" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="mailto:yourname@gmail.com" title="E-Mail &rarr; mailto:yourname@gmail.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                </span>
              
            </div>
          

          

          
          

          
            
          
          

        </div>
      </div>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">酱油壹号</span>

  

  
</div>


  <div class="powered-by">由 <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v3.8.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> v6.6.0</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>














  
    
      
  
  <script color="0,0,255" opacity="0.5" zindex="-1" count="99" src="/lib/canvas-nest/canvas-nest.min.js"></script>













  
  
    <script src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  


  


  <script src="/js/src/utils.js?v=6.6.0"></script>

  <script src="/js/src/motion.js?v=6.6.0"></script>



  
  


  <script src="/js/src/affix.js?v=6.6.0"></script>

  <script src="/js/src/schemes/pisces.js?v=6.6.0"></script>



  

  


  <script src="/js/src/bootstrap.js?v=6.6.0"></script>



  



  











  





  

  

  

  

  

  
  

  

  

  

  

  

  

<script src="/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>
</html>
<!-- 页面点击小红心 -->
<script type="text/javascript" src="/js/src/love.js"></script>
